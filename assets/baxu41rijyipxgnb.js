import{e as de,r as i,j as e,M as s,d as ae,L as qe,a9 as ke,a8 as we,b as Ye,c as $e,u as Qe}from"./khl8ktun31iepecq.js";import{cW as V,dI as Xe,dF as N,V as Ze,aA as fe,dC as Je,am as W,P as D,aG as Se,cX as ne,cH as pe,a as q,gt as et,cr as ce,aL as tt,cP as Me,bW as te,b5 as st,T as C,ae as at,C as ot,h as lt,gw as rt,R as it}from"./haannt40upmuwmtk.js";import{a6 as nt,aF as Ne,e_ as dt,e$ as ct,a5 as Ue,aG as ut,bm as mt,f0 as xt,f1 as gt,f2 as ht,f3 as be,f4 as ft,f5 as pt,am as Mt,eK as bt,d$ as Ct,f6 as yt,ea as jt,dZ as Tt,d_ as vt,bk as Pe,f7 as Ce,f8 as kt,f9 as wt,dR as St,cN as Nt,ck as Ut}from"./n4exq6o15ap1g74l.js";import{H as _e}from"./g4tl5lt9yqf20m4s.js";const Le=nt.FirstTimeUsingUserContext;function Pt(){const{eligible:o}=Ne(Le);return o}const _t=({onClose:o})=>{const l=de(),{markAsViewed:r}=Ne(Le),m=i.useCallback(()=>{r(),o()},[r,o]);return e.jsxs(V,{testId:"modal-user-context-first-time",isOpen:!0,onClose:Xe,size:"custom",className:"max-w-xl",type:"success",title:l.formatMessage(K.title),primaryButton:e.jsx(N.Button,{onClick:m,title:l.formatMessage(K.ok),color:"primary"}),children:[e.jsxs("div",{className:"mb-6 flex flex-col gap-3",children:[e.jsx("p",{children:e.jsx(s,{...K.body1})}),e.jsx("p",{children:e.jsx(s,{...K.body2})})]}),e.jsx("div",{className:"text-token-text-tertiary flex flex-col gap-3 text-sm",children:e.jsx("p",{children:e.jsx(s,{...K.legal1,values:{article:h=>e.jsx("a",{href:_e,target:"_blank",className:"underline",rel:"noopener noreferrer",children:h})}})})})]})},K=ae({title:{id:"UserContextFirstTimeModal.title",defaultMessage:"Introducing Custom Instructions"},body1:{id:"UserContextFirstTimeModal.body1",defaultMessage:"Customize your interactions with ChatGPT by providing specific details and guidelines for your chats."},body2:{id:"UserContextFirstTimeModal.body2",defaultMessage:"Whenever you edit your custom instructions, they'll take effect in all new chats you create. Existing chats won't be updated."},legal1:{id:"UserContextFirstTimeModal.legal1",defaultMessage:"Your instructions will be used to make our models better unless you've opted out and may be shared with any plugins you've enabled. Visit our <article>Help Center</article> to learn more."},ok:{id:"UserContextFirstTimeModal.ok",defaultMessage:"OK"}});function Lt({onSuccess:o,onError:l}){const r=Ye();return $e({mutationFn:({userContext:m})=>at.createOrUpdateUserSystemMessage(m),onSettled:(m,h)=>{const n=["userContext"];m!==null&&!h?r.setQueryData(n,m):r.invalidateQueries({queryKey:n})},onSuccess:o,onError:l})}const ye={aboutUserMessage:void 0,aboutModelMessage:void 0,nameUserMessage:void 0,roleUserMessage:void 0,traitsModelMessage:void 0,otherUserMessage:void 0,disabledTools:void 0,enabled:void 0};function Ht({isModalOpen:o}){const l=de(),r=Ze(),m=Pt(),h=dt(t=>t.autoHighlightNicknameInput),[n,c]=i.useState(!1),{isLoading:y,data:v}=ct(o),{aboutUserMessage:S="",aboutModelMessage:d="",nameUserMessage:f="",roleUserMessage:k="",traitsModelMessage:M="",otherUserMessage:U="",disabledTools:A=[],enabled:z}=v??{},[F,H]=i.useState(ye),{aboutUserMessage:p,aboutModelMessage:b,nameUserMessage:L,roleUserMessage:P,traitsModelMessage:w,otherUserMessage:E,disabledTools:I,enabled:u}=F,j=u??!!z,[R,oe]=i.useState(null),T=t=>{const x=(g,Ke,Ve)=>g!==void 0?g:Ke??Ve;H(g=>({...g,...t,aboutUserMessage:x(t.aboutUserMessage,g.aboutUserMessage,S),aboutModelMessage:x(t.aboutModelMessage,g.aboutModelMessage,d),nameUserMessage:x(t.nameUserMessage,g.nameUserMessage,f),roleUserMessage:x(t.roleUserMessage,g.roleUserMessage,k),traitsModelMessage:x(t.traitsModelMessage,g.traitsModelMessage,M),otherUserMessage:x(t.otherUserMessage,g.otherUserMessage,U),enabled:x(t.enabled,g.enabled,j),disabledTools:x(t.disabledTools,g.disabledTools,A)}))},Y=i.useCallback(()=>{Ue.closeModal(ut.UserContext),H(ye),oe(null)},[]),{layer:Ie}=fe("1704793646"),Be=Ie.get("full_name_llm",!1),Ae=mt(),{isPending:$,mutate:ue}=Lt({onSuccess:t=>{ot.setCookie(lt.GreetingName,rt(t,Ae,Be)),window.dispatchEvent(new Event("refreshGreeting")),Y()},onError:t=>(t.response?.reason==="content_policy"&&t.response?.field?oe(t.response?.field):r.danger(l.formatMessage({id:"userContextModal.saveError",defaultMessage:"Failed to update settings"})),t)}),[me,xe]=i.useState(!1),[Q,ze]=i.useState(!1),[le,Fe]=i.useState([]),X=[p,b,L,P,w,E].some(t=>se(t??"")),Z=[{local:b,server:d},{local:p,server:S},{local:L,server:f},{local:P,server:k},{local:w,server:M},{local:E,server:U}].some(({local:t,server:x})=>t!==void 0&&t!==x)||I!==void 0&&!Je(I,A)||u!==void 0&&u!==z,J=i.useCallback(()=>{W.logEvent("chatgpt_user_context_cancel_clicked"),D.logEvent("User Context Cancel Clicked"),Z?xe(!0):Y()},[Y,Z]),ge=i.useCallback(async()=>{if(!$){oe(null);const t={aboutUserMessage:p??"",aboutModelMessage:b??"",nameUserMessage:L??"",roleUserMessage:P??"",traitsModelMessage:w??"",otherUserMessage:E??"",disabledTools:I??[],enabled:!!u},x={name:f,role:k,traits:M,other:U},g={name:t.nameUserMessage,role:t.roleUserMessage,traits:t.traitsModelMessage,other:t.otherUserMessage,traitPillsSelected:le};D.logEvent("User Context Save Customize ChatGPT",{previousState:x,newState:g}),W.logEvent("chatgpt_user_context_save_custom_instructions",void 0,{previousState:JSON.stringify(x),newState:JSON.stringify(g)}),ue({userContext:t})}},[$,b,p,L,P,w,E,I,u,le,f,k,M,U,ue]),_=i.useCallback(()=>{if(X){const t=se(p??""),x=se(b??"");t&&(W.logEvent("chatgpt_user_context_modal__message_past_limit",void 0,{type:"about_user_message",limit:B.toString(),character_length:p?.length.toString()??""}),D.logEvent("User Context Model Message Past Limit",{type:"about_user_message",limit:B.toString(),character_length:p?.length.toString()??""})),x&&(W.logEvent("chatgpt_user_context_modal__message_past_limit",void 0,{type:"about_model_message",limit:B.toString(),character_length:b?.length.toString()??""}),D.logEvent("User Context Model Message Past Limit",{type:"about_model_message",limit:B.toString(),character_length:b?.length.toString()??""})),r.danger(l.formatMessage(a.messageLimitError,{limit:B}),{duration:4,hasCloseButton:!0});return}ge()},[l,X,b,p,ge,r]),{value:Re}=Se("809056127"),{layer:Oe}=fe("3206655705"),Ge=Re&&Oe.get("enable_new_ux",!0),ee=i.useRef(null),[he,De]=i.useState(0),[He,We]=i.useState(!0);if(i.useEffect(()=>{const t=setTimeout(()=>{We(!1)},1e3),x=setInterval(()=>{De(g=>(g+1)%ie.length)},5500);return()=>{clearInterval(x),clearTimeout(t)}},[]),i.useEffect(()=>{Q&&ee.current&&ee.current.scrollIntoView({behavior:"smooth",block:"start"})},[Q,ee]),o&&!me&&Ge)return e.jsxs(V,{testId:"modal-user-context",isOpen:o,onClose:J,type:"success",size:"custom",className:"max-w-xl",title:e.jsx(s,{...a.profileTitle}),description:e.jsxs("div",{className:"text-token-text-secondary flex flex-row items-center",children:[e.jsx("div",{className:"me-1",children:e.jsx(s,{...a.profileSubtitle})}),e.jsx(re,{primaryLabel:e.jsx("div",{className:"text-muted mx-3 mt-2 mb-2 text-sm font-normal",children:e.jsx(s,{...a.profileSubtitleTooltip,values:{link:t=>e.jsx(qe,{className:"underline",target:"_blank",rel:"noreferrer",to:a.profileSubtitleTooltip.link??"",children:t})}})}),icon:e.jsx(xt,{className:"text-token-text-tertiary h-4 w-4"})})]}),children:[y?e.jsx("div",{className:"flex h-14 items-center justify-center",children:e.jsx(ne,{})}):e.jsxs("div",{className:"max-h-[60vh] overflow-y-auto md:max-h-[calc(100vh-300px)]",children:[e.jsx("p",{className:"text-muted py-2 text-sm font-medium",children:e.jsx(s,{...a.customizeName})}),e.jsx(O,{className:"mb-3",onSubmit:_,disabled:!j,hasModError:R==="name_user_message",value:L??f,placeholder:l.formatMessage(a.customizeNamePlaceholder),onChange:t=>T({nameUserMessage:t.target.value}),size:"sm",showCharacterCount:!1,autoHighlight:h}),e.jsx("p",{className:"text-muted text-token-text-primary py-2 text-sm font-medium",children:e.jsx(s,{...a.customizeRole})}),e.jsxs("div",{className:"relative mb-3 overflow-hidden",children:[!(P??k)&&e.jsx(ke,{mode:"wait",children:e.jsx(we.span,{variants:Ft,initial:He?!1:"initial",animate:"animate",exit:"exit",className:"pointer-events-none absolute start-[0.81rem] top-[0.55rem] text-sm text-gray-400",children:l.formatMessage(zt[ie[he]])},ie[he])}),e.jsx(O,{onSubmit:_,disabled:!j,hasModError:R==="role_user_message",value:P??k,placeholder:"",onChange:t=>T({roleUserMessage:t.target.value}),size:"sm",showCharacterCount:!1})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("p",{className:"text-muted text-token-text-primary me-1 py-2 text-sm font-medium",children:e.jsx(s,{...a.customizeTraits})}),e.jsx(re,{primaryLabel:e.jsx("div",{className:"text-muted mx-3 mt-3 mb-[6px] text-sm font-medium",children:e.jsx(s,{...a.traitsTooltipTitle})}),secondaryLabel:e.jsxs("ul",{className:"text-muted text-token-text-primary mx-2 mb-3 list-disc justify-start space-y-[6px] ps-5 text-sm",children:[e.jsx("li",{children:e.jsx(s,{...a.traitsTooltipBodyItem1})}),e.jsx("li",{children:e.jsx(s,{...a.traitsTooltipBodyItem2})}),e.jsx("li",{children:e.jsx(s,{...a.traitsTooltipBodyItem3})})]})})]}),e.jsx(O,{onSubmit:_,disabled:!j,hasModError:R==="traits_model_message",value:w??M,placeholder:l.formatMessage(a.customizeTraitsPlaceholder),onChange:t=>T({traitsModelMessage:t.target.value}),size:"md",showCharacterCount:!1,isNewCustomInstructionsUIEnabled:!0}),e.jsx("div",{className:"mb-4",children:e.jsx(It,{onSelect:t=>{T({traitsModelMessage:`${w??M} ${t}`.trim()})},selectedTraits:le,setSelectedTraits:Fe})}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("p",{className:"text-muted text-token-text-primary me-1 py-2 text-sm font-medium",children:e.jsx(s,{...a.customizeOther})}),e.jsx(re,{primaryLabel:e.jsx("div",{className:"text-muted mx-3 mt-3 mb-2 text-sm font-medium",children:e.jsx(s,{...a.otherTooltipTitle})}),secondaryLabel:e.jsxs("ul",{className:"text-muted text-token-text-primary mx-2 mb-3 list-disc justify-start space-y-[6px] ps-5 text-sm",children:[e.jsx("li",{children:e.jsx(s,{...a.otherTooltipBodyItem1})}),e.jsx("li",{children:e.jsx(s,{...a.otherTooltipBodyItem2})}),e.jsx("li",{children:e.jsx(s,{...a.otherTooltipBodyItem3})})]})})]}),e.jsx(O,{onSubmit:_,disabled:!j,hasModError:R==="other_user_message",value:E??U,placeholder:l.formatMessage(a.customizeOtherPlaceholder),onChange:t=>T({otherUserMessage:t.target.value}),size:"md",showCharacterCount:!1,isNewCustomInstructionsUIEnabled:!0}),e.jsxs("div",{className:"mt-3 pb-8",ref:ee,children:[e.jsxs("button",{onClick:()=>ze(t=>!t),className:"text-muted text-token-text-primary flex items-center justify-between py-2 text-sm font-medium",children:[e.jsx(s,{...a.advanced}),Q?e.jsx(gt,{className:"ms-1 h-5 w-5"}):e.jsx(ht,{className:"ms-1 h-5 w-5"})]}),Q&&e.jsx("div",{className:"mt-2",children:e.jsx(Te,{disabledTools:F.disabledTools??A??[],onDisabledToolsChanged:t=>T({disabledTools:t}),isNewCustomInstructionsUIEnabled:!0})})]})]}),e.jsx("div",{className:"-ms-6 -me-6 border-t",children:e.jsxs("div",{className:"ms-6 me-6 flex grow flex-col items-stretch justify-between gap-0 pt-2 pb-1 sm:flex-row sm:items-center sm:gap-3",children:[e.jsxs("label",{className:"mt-5 flex cursor-pointer flex-row justify-between gap-2 sm:mt-4",children:[e.jsx(be,{enabled:j,onChange:t=>{T({enabled:t})},label:j?l.formatMessage(a.disableToggleLabel):l.formatMessage(a.enableToggleLabel)}),e.jsx("div",{className:"text-token-text-primary self-center text-sm",children:e.jsx(s,{...a.chatPreferencesEnable})})]}),e.jsx(N.Actions,{secondaryButton:e.jsx(N.Button,{onClick:J,children:e.jsx(s,{...a.cancel})}),primaryButton:e.jsx(N.Button,{loading:$,onClick:_,color:"primary",visuallyDisabled:X,disabled:!Z,children:e.jsx(s,{...a.save})})})]})})]},"user-context");if(o&&m&&!n)return e.jsx(_t,{onClose:()=>{c(!0)}});if(o&&me){const t=()=>{xe(!1),W.logEvent("chatgpt_user_context_confirm_close_clicked"),D.logEvent("User Context Confirm Close Clicked")};return e.jsx(V,{testId:"modal-user-context-confirm-close",isOpen:!0,onClose:t,type:"success",title:l.formatMessage(a.confirmCloseTitle),primaryButton:e.jsx(N.Button,{title:l.formatMessage(a.confirmCloseOk),color:"danger",onClick:()=>{Y(),t()}}),secondaryButton:e.jsx(N.Button,{title:l.formatMessage(a.confirmCloseCancel),color:"secondary",onClick:t}),children:e.jsx("div",{className:"text-sm",children:e.jsx(s,{...a.confirmCloseBody})})},"confirm-close")}return e.jsxs(V,{testId:"modal-user-context",isOpen:o,onClose:J,type:"success",size:"custom",className:"max-w-lg xl:max-w-xl",title:e.jsx(s,{...a.profileTitle}),children:[y?e.jsx("div",{className:"flex h-14 items-center justify-center",children:e.jsx(ne,{})}):e.jsxs("div",{className:"max-h-[60vh] overflow-y-auto md:max-h-[calc(100vh-300px)]",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"text-sm font-semibold",children:e.jsx(s,{...a.customInstructionsTitle})}),e.jsx(Ee,{label:e.jsx(s,{...a.customInstructionsTooltip,values:{article:t=>e.jsx("a",{href:_e,target:"_blank",className:"underline",rel:"noreferrer",children:t})}})})]}),e.jsx("p",{className:"text-muted text-token-text-primary pt-2 pb-3 text-sm",children:e.jsx(s,{...a.aboutYouHelpText})}),e.jsx(O,{className:"mb-3",onSubmit:_,disabled:!j,tip:e.jsx(je,{children:e.jsxs("ul",{className:"list-disc ps-5",children:[e.jsx("li",{children:e.jsx(s,{...a.aboutUserTip1})}),e.jsx("li",{children:e.jsx(s,{...a.aboutUserTip2})}),e.jsx("li",{children:e.jsx(s,{...a.aboutUserTip3})}),e.jsx("li",{children:e.jsx(s,{...a.aboutUserTip4})}),e.jsx("li",{children:e.jsx(s,{...a.aboutUserTip5})})]})}),hasModError:R==="about_user_message",value:p??S,onChange:t=>T({aboutUserMessage:t.target.value})}),e.jsx("p",{className:"text-muted text-token-text-primary py-3 text-sm",children:e.jsx(s,{...a.modelHelpText})}),e.jsx(O,{onSubmit:_,disabled:!j,tip:e.jsx(je,{children:e.jsxs("ul",{className:"list-disc ps-5",children:[e.jsx("li",{children:e.jsx(s,{...a.modelTip1})}),e.jsx("li",{children:e.jsx(s,{...a.modelTip2})}),e.jsx("li",{children:e.jsx(s,{...a.modelTip3})}),e.jsx("li",{children:e.jsx(s,{...a.modelTip4})})]})}),hasModError:R==="about_model_message",value:b??d,onChange:t=>T({aboutModelMessage:t.target.value})}),e.jsx("div",{className:"bg-token-border-default my-6 h-px"}),e.jsx(Te,{disabledTools:F.disabledTools??A??[],onDisabledToolsChanged:t=>T({disabledTools:t})})]}),e.jsx("div",{className:"mt-4 md:mt-5",children:e.jsxs("div",{className:"flex grow flex-col items-stretch justify-between gap-0 sm:flex-row sm:items-center sm:gap-3",children:[e.jsxs("label",{className:"mt-5 flex cursor-pointer flex-row justify-between gap-2 sm:mt-4",children:[e.jsx("div",{className:"text-token-text-primary self-center text-sm",children:e.jsx(s,{...a.chatPreferencesEnable})}),e.jsx(be,{enabled:j,onChange:t=>{T({enabled:t})},label:j?l.formatMessage(a.disableToggleLabel):l.formatMessage(a.enableToggleLabel)})]}),e.jsx(N.Actions,{secondaryButton:e.jsx(N.Button,{onClick:J,children:e.jsx(s,{...a.cancel})}),primaryButton:e.jsx(N.Button,{loading:$,onClick:_,color:"primary",visuallyDisabled:X,disabled:!Z,children:e.jsx(s,{...a.save})})})]})})]},"user-context")}function Et(){return Qe({queryKey:["traitPills"],queryFn:async()=>{try{const o=await it.safeGet("/user_system_message_trait_pills");return o?Array.isArray(o)?o:[]:[]}catch{return[...Bt.map(l=>({key:l,label:l,description:ve[l].defaultMessage||""})),...At.map(l=>({key:l,label:l,description:ve[l].defaultMessage||""}))]}},select:o=>{const l=Math.ceil(o.length/2-1);return{firstSet:o.slice(0,l),secondSet:o.slice(l)}}})}const It=({onSelect:o,selectedTraits:l,setSelectedTraits:r})=>{const{data:m,isLoading:h}=Et(),[n,c]=i.useState(!0);if(h)return e.jsx(ne,{});if(!m)return null;const y=n?m.firstSet:m.secondSet,v=d=>{l.includes(d.key)||(r(f=>[...f,d.key]),o(d.description))},S=()=>{r([]),c(d=>!d)};return e.jsx("div",{children:e.jsxs("div",{className:"mt-2 flex flex-wrap gap-x-1 gap-y-2",children:[y.map(d=>!l.includes(d.key)&&e.jsxs(pe,{size:"small",color:"secondary",className:"text-token-text-secondary py-2 ps-2 pe-3 text-xs font-normal",onClick:()=>v(d),children:[e.jsx(ft,{className:"me-[1px] h-4 w-4"}),d.label]},d.key)),e.jsx(pe,{size:"small",color:"secondary",className:"text-token-text-secondary",onClick:S,children:e.jsx(pt,{className:"-mx-1 h-4 w-4"})})]})})},je=({children:o})=>e.jsx("div",{className:"whitespace-pre-line",children:o}),B=1500,se=o=>o.length>B,O=({disabled:o,onChange:l,onSubmit:r,placeholder:m,value:h,tip:n,hasModError:c,className:y,size:v="md",showCharacterCount:S=!0,autoHighlight:d=!1,isNewCustomInstructionsUIEnabled:f=!1})=>{const k=de(),M=i.useRef(null);i.useEffect(()=>{d&&M.current&&requestAnimationFrame(()=>{M.current?.select(),Ue.setAutoHighlightNicknameInput(!1)})},[d]);const U=Mt(),A=bt(),z=!U,[F,H]=i.useState(!1),[p,b]=i.useState(z),L=!z&&F&&!p,P=z&&!p,w=se(h),E=u=>{u.nativeEvent.isComposing||!o&&u.key==="Enter"&&u.metaKey&&!u.shiftKey&&!u.nativeEvent.isComposing&&(u.preventDefault(),r())},I=i.useRef(null);return e.jsxs(e.Fragment,{children:[n&&e.jsx(V,{testId:"modal-user-context-tip",isOpen:P,type:"success",size:"custom",className:"max-w-lg",title:k.formatMessage(a.tipsHeader),showCloseButton:!0,onClose:()=>{b(!0)},children:n}),e.jsxs(Ct,{open:L,children:[e.jsxs("div",{className:y,ref:I,children:[e.jsx(yt,{asChild:!0,children:e.jsx("textarea",{ref:M,className:q("bg-token-main-surface-primary w-full resize-none focus:ring-transparent",{"rounded-sm p-4":v!=="sm"&&!f,"rounded-lg border text-sm":v==="sm"||f,"border-orange-400 focus:border-orange-400":c,"border-red-500 focus:border-red-500":w&&!c,"focus-token-border-heavy border-token-border-default":!w&&!c,"opacity-30":o,"placeholder:text-gray-400":v==="sm"||f,"placeholder:text-gray-300":!f}),disabled:o,placeholder:m,onKeyDown:E,rows:v==="sm"?1:U&&!A?6:5,value:h,onChange:l,onBlur:()=>{H(!1)},onFocus:()=>{H(!0)}})}),e.jsx("div",{className:q("flex items-center justify-between px-1 text-xs tabular-nums",w?"text-red-600":"text-token-text-tertiary"),children:c?e.jsx("div",{className:"visible mt-2 text-start text-xs text-orange-400",children:e.jsx(s,{...a.modApiVoilation,values:{policyLink:u=>e.jsx("a",{href:"https://platform.openai.com/docs/usage-policies/content-policy",className:"underline",target:"_blank",rel:"noreferrer",children:u}),feedbackLink:u=>e.jsx("a",{href:"https://forms.gle/3gyAMj5r5rTEcgbs5",className:"underline",target:"_blank",rel:"noreferrer",children:u})}})}):e.jsxs(e.Fragment,{children:[S&&e.jsx("div",{children:`${h.length}/${B}`}),n&&e.jsx("button",{className:"flex items-center gap-1",onClick:()=>{M.current?.focus(),b(!p)},tabIndex:-1,children:e.jsx(ke,{initial:!1,children:F&&e.jsx(we.div,{className:"flex items-center gap-1",initial:{opacity:0},animate:{opacity:1,transition:{duration:.2,ease:"easeIn"}},exit:{opacity:0,transition:{duration:.2,ease:"easeIn"}},children:p?e.jsxs(e.Fragment,{children:[e.jsx(s,{...a.showTips}),e.jsx(jt,{className:"icon-xs"})]}):e.jsxs(e.Fragment,{children:[e.jsx(s,{...a.hideTips}),e.jsx(et,{className:"icon-xs"})]})},"show-hide")})})]})})]}),n&&e.jsx(Tt,{container:I.current?.ownerDocument.body,children:e.jsx(vt,{side:"right",align:"start",sideOffset:12,className:"popover animate-slideLeftAndFade border-token-border-default bg-token-main-surface-primary text-token-text-primary relative z-50 max-w-[220px] rounded-xl border p-4 text-sm shadow-[0px_4px_14px_rgba(0,0,0,0.06)] select-none xl:max-w-xs",onOpenAutoFocus:u=>{u.preventDefault()},onCloseAutoFocus:u=>{u.preventDefault()},children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("strong",{children:e.jsx(s,{...a.tipsHeader})}),n]})})})]})]})};function re({primaryLabel:o,secondaryLabel:l,side:r="top",icon:m=e.jsx(Pe,{className:"text-token-text-tertiary h-4 w-4"})}){return e.jsx(ce,{sideOffset:4,interactive:!0,label:e.jsx("div",{children:o}),secondaryLabel:e.jsx("div",{children:l}),side:r,delayDuration:0,theme:"primary",customPrimaryLabelColorStyle:"primary",customPaddingClassName:"p-2",customBorderClassName:"border border-token-border-default",labelTextAlign:"left",children:m})}function Ee({label:o,side:l="bottom"}){return e.jsx(ce,{sideOffset:4,interactive:!0,label:e.jsx("div",{children:o}),side:l,children:e.jsx(Pe,{className:"text-token-text-tertiary h-4 w-4"})})}function Te({disabledTools:o,onDisabledToolsChanged:l,isNewCustomInstructionsUIEnabled:r=!1}){i.useEffect(()=>{D.logEvent("User Context GPT-4 Capabilities Shown")},[]);const h=tt()?.isEnterprisey()??!1,n=!Me(te.BrowsingAvailable)&&h,c=f=>{const k=o.includes(f)?o.filter(M=>M!==f):[...o,f];l(k)},y=st(),{value:v}=Se("2044826081"),S=!Me(te.Canvas)&&h;var d;return y?.includes(te.SearchTool)&&!y.includes(te.SearchToolHoldout)?d=e.jsx(G,{title:e.jsx(s,{id:"userContextModal.tools.web",defaultMessage:"Web Search"}),tooltipLabel:n?e.jsx(s,{id:"Osf0vy",defaultMessage:"Web Search is disabled by your organization"}):e.jsx(s,{id:"userContexModal.tools.webSearchTooltip",defaultMessage:"Automatically search the web to get answers"}),tool:C.BROWSER,onClick:c,Icon:Ce,checked:!o.includes(C.BROWSER)&&!n,disabled:n,isNewCustomInstructionsUIEnabled:r}):d=e.jsx(G,{title:e.jsx(s,{id:"userContextModal.tools.browse",defaultMessage:"Browsing"}),tooltipLabel:n?e.jsx(s,{id:"5SuA2c",defaultMessage:"Browsing is disabled by your organization"}):e.jsx(s,{id:"userContexModal.tools.browserTooltip",defaultMessage:"Browse the internet to find answers"}),tool:C.BROWSER,onClick:c,Icon:Ce,checked:!o.includes(C.BROWSER)&&!n,disabled:n,isNewCustomInstructionsUIEnabled:r}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:q("text-sm",{"text-muted font-medium":r,"font-semibold":!r}),children:e.jsx(s,{id:"userContextModal.gpt4CapabilitiesTitle",defaultMessage:"ChatGPT capabilities"})}),e.jsx(Ee,{label:e.jsx(s,{id:"userContextModal.tools.capabilitiesInfo.1",defaultMessage:"Choose which tools can be used with GPT-4"}),side:"top"})]}),e.jsxs("div",{className:"mt-2 flex flex-col flex-wrap gap-3 md:flex-row",children:[d,e.jsx(G,{title:e.jsx(s,{id:"userContextModal.tools.dalle",defaultMessage:"DALL·E"}),tooltipLabel:e.jsx(s,{id:"userContextModal.tools.dalleTooltip",defaultMessage:"Generate images using DALL·E"}),tool:C.DALLE,onClick:c,Icon:kt,checked:!o.includes(C.DALLE),isNewCustomInstructionsUIEnabled:r}),e.jsx(G,{title:e.jsx(s,{id:"userContextModal.tools.codeInterpreter.1",defaultMessage:"Code"}),tooltipLabel:e.jsx(s,{id:"userContextModal.tools.codeInterpreterTooltip",defaultMessage:"Execute code using Code Interpreter"}),tool:C.PYTHON,onClick:c,Icon:wt,checked:!o.includes(C.PYTHON),isNewCustomInstructionsUIEnabled:r}),v&&!S&&e.jsx(G,{title:e.jsx(s,{id:"FW2C7Y",defaultMessage:"Canvas"}),tooltipLabel:e.jsx(s,{id:"dP6U4B",defaultMessage:"Collaborate with ChatGPT on text and code"}),tool:C.CANMORE,onClick:c,Icon:St,checked:!o.includes(C.CANMORE),isNewCustomInstructionsUIEnabled:r}),e.jsx(G,{title:e.jsx(s,{id:"yaclI7",defaultMessage:"Advanced Voice"}),tooltipLabel:e.jsx(s,{id:"Pd4tO1",defaultMessage:"More natural conversations in voice mode"}),tool:C.ADVANCED_VOICE,onClick:c,Icon:Nt,checked:!o.includes(C.ADVANCED_VOICE),isNewCustomInstructionsUIEnabled:r})]})]})}function G({tool:o,title:l,tooltipLabel:r,Icon:m,onClick:h,checked:n,disabled:c,isNewCustomInstructionsUIEnabled:y=!1}){return e.jsx(ce,{className:"block",label:r,side:"top",sideOffset:4,children:e.jsxs("button",{className:q("border-token-border-medium flex w-full items-center justify-between gap-2 rounded-sm border p-2 whitespace-nowrap",{"text-token-text-quaternary cursor-not-allowed":c}),onClick:()=>h(o),disabled:c,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{className:"text-token-text-tertiary h-4 w-4"}),e.jsx("div",{className:q("text-sm",y?"text-muted font-medium":"font-semibold"),children:l})]}),e.jsx(Ut,{id:o,checked:n&&!c,disabled:c})]})})}const a=ae({tipsHeader:{id:"userContextModal.tipsHeader",defaultMessage:"Thought starters"},aboutUserTip1:{id:"userContextModal.aboutUserTip1",defaultMessage:"Where are you based?"},aboutUserTip2:{id:"userContextModal.aboutUserTip2",defaultMessage:"What do you do for work?"},aboutUserTip3:{id:"userContextModal.aboutUserTip3",defaultMessage:"What are your hobbies and interests?"},aboutUserTip4:{id:"userContextModal.aboutUserTip4",defaultMessage:"What subjects can you talk about for hours?"},aboutUserTip5:{id:"userContextModal.aboutUserTip5",defaultMessage:"What are some goals you have?"},modelTip1:{id:"userContextModal.modelTip1",defaultMessage:"How formal or casual should ChatGPT be?"},modelTip2:{id:"userContextModal.modelTip2",defaultMessage:"How long or short should responses generally be?"},modelTip3:{id:"userContextModal.modelTip3",defaultMessage:"How do you want to be addressed?"},modelTip4:{id:"userContextModal.modelTip4",defaultMessage:"Should ChatGPT have opinions on topics or remain neutral?"},save:{id:"userContextModal.save",defaultMessage:"Save"},chatPreferencesEnable:{id:"userContextModal.chatPreferencesEnable",defaultMessage:"Enable for new chats"},enableToggleLabel:{id:"userContextModal.enableToggleLabel",defaultMessage:"Enable chat preferences"},disableToggleLabel:{id:"userContextModal.disableToggleLabel",defaultMessage:"Disable chat preferences"},cancel:{id:"userContextModal.cancel",defaultMessage:"Cancel"},aboutYouHelpText:{id:"userContextModal.aboutYouHelpText",defaultMessage:"What would you like ChatGPT to know about you to provide better responses?"},modelHelpText:{id:"userContextModal.modelHelpText",defaultMessage:"How would you like ChatGPT to respond?"},profileTitle:{id:"userContextModal.title.1",defaultMessage:"Customize ChatGPT"},profileSubtitle:{id:"userContextModal.profileSubtitle",defaultMessage:"Introduce yourself to get better, more personalized responses"},profileSubtitleTooltip:{id:"userContextModal.profileSubtitleTooltip",defaultMessage:"ChatGPT will use the information you provide to tailor its responses to you. <link>Learn more</link> about how we use your data.",link:"https://help.openai.com/en/articles/8096356-custom-instructions-for-chatgpt"},customizeName:{id:"userContextModal.customizeName",defaultMessage:"What should ChatGPT call you?"},customizeNamePlaceholder:{id:"userContextModal.customizeNamePlaceholder",defaultMessage:"Nickname"},customizeRole:{id:"userContextModal.customizeRole",defaultMessage:"What do you do?"},customizeRolePlaceholder:{id:"userContextModal.customizeRolePlaceholder",defaultMessage:"Engineer, student, etc."},customizeTraits:{id:"userContextModal.customizeTraits",defaultMessage:"What traits should ChatGPT have?"},customizeTraitsPlaceholder:{id:"userContextModal.customizeTraitsPlaceholder",defaultMessage:"Describe or select traits"},customizeOther:{id:"userContextModal.customizeOther",defaultMessage:"Anything else ChatGPT should know about you?"},customizeOtherPlaceholder:{id:"userContextModal.customizeOtherPlaceholder",defaultMessage:"Interests, values, or preferences to keep in mind"},customInstructionsTitle:{id:"userContextModal.customInstructionsTitle",defaultMessage:"Custom Instructions"},customInstructionsTooltip:{id:"userContextModal.customInstructionsTooltip",defaultMessage:"<article>Learn more</article> about Custom Instructions and how they're used to help ChatGPT provide better responses."},traitsTooltipTitle:{id:"userContextModal.traitsTooltipTitle",defaultMessage:"You can tell ChatGPT to do things like..."},traitsTooltipBodyItem1:{id:"userContextModal.traitsTooltipBodyItem1",defaultMessage:"Use a formal, professional tone."},traitsTooltipBodyItem2:{id:"userContextModal.traitsTooltipBodyItem2",defaultMessage:"Be casual and chatty."},traitsTooltipBodyItem3:{id:"userContextModal.traitsTooltipBodyItem3",defaultMessage:"Be opinionated. If a question could have multiple answers, try to give only the best one."},otherTooltipTitle:{id:"userContextModal.otherTooltipTitle",defaultMessage:"You can share things like..."},otherTooltipBodyItem1:{id:"userContextModal.otherTooltipBodyItem1",defaultMessage:"I love hiking and jazz."},otherTooltipBodyItem2:{id:"userContextModal.otherTooltipBodyItem2",defaultMessage:"I'm vegetarian."},otherTooltipBodyItem3:{id:"userContextModal.otherTooltipBodyItem3",defaultMessage:"I'm trying to learn French."},messageLimitError:{id:"userContextModal.messageLimitError",defaultMessage:"Please limit your responses to {limit} characters or less."},showTips:{id:"userContextModal.showTips",defaultMessage:"Show tips"},hideTips:{id:"userContextModal.hideTips",defaultMessage:"Hide tips"},confirmCloseTitle:{id:"userContextModal.confirmCloseTitle",defaultMessage:"You have unsaved changes."},confirmCloseBody:{id:"userContextModal.confirmCloseBody",defaultMessage:"Are you sure you want to exit? Any changes you made will be permanently lost."},confirmCloseCancel:{id:"userContextModal.confirmCloseCancel",defaultMessage:"Back"},confirmCloseOk:{id:"userContextModal.confirmCloseOk",defaultMessage:"Exit"},modApiVoilation:{id:"userContextModal.modApiVoilation",defaultMessage:"This content may violate our <policyLink>content policy</policyLink>. If you believe this to be in error, please <feedbackLink>submit your feedback</feedbackLink> — your input will aid our research in this area."},browser:{id:"userContexModal.tools.browserTooltip",defaultMessage:"Browse the internet to find answers"},dalle:{id:"userContexModal.tools.dalleTooltip",defaultMessage:"Generate images using DALL·E"},python:{id:"userContexModal.tools.codeInterpreterTooltip",defaultMessage:"Execute code using Code Interpreter"},advanced:{id:"userContextModal.advanced",defaultMessage:"Advanced"}}),Bt=["Chatty","Witty","Opinionated","StraightShooting","GenZ","Encouraging","Skeptical","ForwardThinking"],At=["Poetic","Respectful","Humble","Professional","Corporate","Direct","Silly","Pragmatic","Chill","OutsideTheBox"],ve=ae({Chatty:{id:"userContextModal.chattySentence",defaultMessage:"Be talkative and conversational."},Witty:{id:"userContextModal.wittySentence",defaultMessage:"Use quick and clever humor when appropriate."},StraightShooting:{id:"userContextModal.straightShootingSentence",defaultMessage:"Tell it like it is; don't sugar-coat responses."},Encouraging:{id:"userContextModal.encouragingSentence",defaultMessage:"Use an encouraging tone."},GenZ:{id:"userContextModal.genZSentence",defaultMessage:"Talk like a member of Gen Z."},Skeptical:{id:"userContextModal.skepticalSentence",defaultMessage:"Adopt a skeptical, questioning approach."},ForwardThinking:{id:"userContextModal.forwardThinkingSentence",defaultMessage:"Take a forward-thinking view."},Poetic:{id:"userContextModal.poeticSentence",defaultMessage:"Use a poetic, lyrical tone."},Opinionated:{id:"userContextModal.opinionatedSentence",defaultMessage:"Readily share strong opinions."},Respectful:{id:"userContextModal.respectfulSentence",defaultMessage:"Always be respectful."},Humble:{id:"userContextModal.humbleSentence",defaultMessage:"Be humble when appropriate."},Professional:{id:"userContextModal.professionalSentence",defaultMessage:"Use a formal, professional tone."},Silly:{id:"userContextModal.sillySentence",defaultMessage:"Be playful and goofy."},Direct:{id:"userContextModal.directSentence",defaultMessage:"Get right to the point."},Pragmatic:{id:"userContextModal.pragmaticSentence",defaultMessage:"Be practical above all."},Corporate:{id:"userContextModal.corporateSentence",defaultMessage:"Respond with corporate jargon."},Chill:{id:"userContextModal.chillSentence",defaultMessage:"Keep it relaxed and easygoing."},OutsideTheBox:{id:"userContextModal.outsideTheBoxSentence",defaultMessage:"Be innovative and think outside the box."}}),zt=ae({engineeringStudent:{id:"userContextModal.rolePlaceholder.engineeringStudent",defaultMessage:"Engineering student at University of Waterloo"},gastroenterologist:{id:"userContextModal.rolePlaceholder.gastroenterologist",defaultMessage:"Gastroenterologist"},sourdoughBaker:{id:"userContextModal.rolePlaceholder.sourdoughBaker",defaultMessage:"Small-batch home sourdough baker"},interiorDesigner:{id:"userContextModal.rolePlaceholder.interiorDesigner",defaultMessage:"Interior designer"},daycareManager:{id:"userContextModal.rolePlaceholder.daycareManager",defaultMessage:"Home daycare manager"},familyLawAttorney:{id:"userContextModal.rolePlaceholder.familyLawAttorney",defaultMessage:"Family law attorney"},excelWizard:{id:"userContextModal.rolePlaceholder.excelWizard",defaultMessage:"Excel wizard"},level10Mage:{id:"userContextModal.rolePlaceholder.level10Mage",defaultMessage:"Level 10 mage"},pharmaSales:{id:"userContextModal.rolePlaceholder.pharmaSales",defaultMessage:"Pharma sales"},freelanceCopywriter:{id:"userContextModal.rolePlaceholder.freelanceCopywriter",defaultMessage:"Freelance copywriter"},weddingPhotographer:{id:"userContextModal.rolePlaceholder.weddingPhotographer",defaultMessage:"Wedding photographer"},catHerder:{id:"userContextModal.rolePlaceholder.catHerder",defaultMessage:"Professional cat herder"},cdlDriver:{id:"userContextModal.rolePlaceholder.cdlDriver",defaultMessage:"CDL driver"},thirdGradeTeacher:{id:"userContextModal.rolePlaceholder.thirdGradeTeacher",defaultMessage:"Third-grade teacher"}}),Ft={initial:{opacity:0,y:8},animate:{opacity:1,y:0,transition:{duration:.2}},exit:{opacity:0,y:-8,transition:{duration:.2}}},ie=["engineeringStudent","gastroenterologist","sourdoughBaker","interiorDesigner","daycareManager","familyLawAttorney","excelWizard","level10Mage","pharmaSales","freelanceCopywriter","weddingPhotographer","catHerder","cdlDriver","thirdGradeTeacher"];export{O as TextAreaWithTip,Ht as UserContextModal,a as messages};
//# sourceMappingURL=baxu41rijyipxgnb.js.map
