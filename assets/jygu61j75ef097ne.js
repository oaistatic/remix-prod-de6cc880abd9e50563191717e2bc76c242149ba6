import{e as i,j as n}from"./khl8ktun31iepecq.js";import{V as v,l as b,aG as W,P as r,am as c,cH as w,a as M,cr as _}from"./haannt40upmuwmtk.js";import{cH as k,cI as E,cJ as x,cK as S}from"./n4exq6o15ap1g74l.js";import{u as B}from"./h54tsg40aj2pr0ev.js";import{u as y}from"./nvx78047lxv6p3fd.js";import"./e66najub871r0jzn.js";const C=e=>{const{requestMicrophonePermissions:t}=B(),s=i().formatMessage({id:"vONrv3",defaultMessage:"Enable mic access to dictate"}),a=v();return async()=>{if(r.logEvent("Whisper on Web/Windows: Clicked to start dictation"),c.logEvent("chatgpt_composer_whisper_button_clicked_start"),!await t())return a.danger(s);e()}},z=({size:e="medium",disabled:t,onExit:o,buttonClassName:s,invertColor:a,disableTooltip:l=!1,...p})=>{const u=i(),{isUnauthenticated:d}=b(),h=y(f=>f.status),{value:m}=W("3004381919"),g=C(o);return!m||d?null:(h==="error"&&(r.logEvent("Whisper on Web/Windows: Error"),c.logEvent("chatgpt_composer_whisper_button_error")),n.jsx(j,{disabled:l,children:n.jsx(w,{...p,"aria-label":u.formatMessage({id:"QFVCwl",defaultMessage:"Dictate button"}),size:e,type:"button",onClick:g,disabled:t,className:M(a?k:E,"[view-transition-name:var(--vt-composer-whisper-button)]",t?"opacity-30":!a&&x,"dark:hover:bg-transparent dark:hover:opacity-100",s),children:n.jsx(S,{"aria-label":u.formatMessage({id:"cBnp8z",defaultMessage:"Mic icon"}),className:"h-[18px] w-[18px]",fontSize:"inherit"})})}))};function j({children:e,disabled:t=!1}){const o=i();return n.jsx(_,{open:t?!1:void 0,sideOffset:4,label:o.formatMessage({id:"abw2XH",defaultMessage:"Dictate"}),side:"top",onOpenChange:s=>{s&&(r.logEvent("Whisper on Web/Windows: Button hover to see tooltip"),c.logEvent("chatgpt_composer_whisper_button_hovered"))},children:e})}export{z as WhisperIconButton,C as useWhisperHandleClick};
//# sourceMappingURL=jygu61j75ef097ne.js.map
