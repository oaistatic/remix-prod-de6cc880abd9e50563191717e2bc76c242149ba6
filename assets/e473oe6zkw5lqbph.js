const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/iu52j2atxkw0fsly.js","assets/khl8ktun31iepecq.js","assets/n4exq6o15ap1g74l.js","assets/haannt40upmuwmtk.js","assets/root-eulobrch.css","assets/conversation-small-bh1estgu.css","assets/opqccoi9jnqsmzvy.js","assets/jjqeoesb3rhorlyg.js","assets/dfz2bdgqh4yduujb.js","assets/b3mht1lg7zv7qd3d.js","assets/m4g7yy9fehqi204r.js","assets/d7qdtm0x38jq0qqt.js","assets/dblaaxd78ezocyc0.js","assets/h8re7wo6sx6nawbp.js","assets/hfe3wutvsnhbjjyr.js","assets/lqsp64py11hvkjkm.js","assets/m89x2zftpo6hrypr.js","assets/hzkfsu0uhsqiekzt.js","assets/g0kxck7ediewm05i.js","assets/nybw3qoqoq0g4w1d.js","assets/d3y72ugnrmac5z1v.js","assets/fzrn137102spawew.js","assets/e9lafxuzyeh4418f.js","assets/n4mh0ete7jlifz2u.js"])))=>i.map(i=>d[i]);
import{a as j,co as q,cp as V,gB as It,bX as te,P as p,cW as ze,cX as ee,fG as At,di as Gt,cH as L,b5 as he,bW as U,cx as Pe,e3 as Tt,e9 as se,aG as D,bH as E,aW as Ee,gh as zt,I as Fe,l as K,cF as l,dP as Pt,cL as Et,m as De,o as Ft,V as Oe,d7 as Dt,R as xe,am as H,e6 as ae,aR as ge,eM as Ot,eL as Bt,cG as Wt,gu as Lt,cr as B,bG as Be,dl as We,b as Ut,x as Ht,aA as O,aP as Rt,cI as qt,aL as Vt,fc as Kt,aj as ke,F as we,ab as $t,ag as Le}from"./haannt40upmuwmtk.js";import{j as e,r as z,e as y,M as u,u as pe,d as ne,a8 as Yt,L as Jt,f as W,b as Ue}from"./khl8ktun31iepecq.js";import{I as He,dN as ue,e9 as Xt,x as Re,G as fe,hK as Zt,d8 as Q,cb as Qt,hL as es,z as ts,dT as ve,dy as je,cB as ss,e7 as qe,hM as Ve,hN as as,hO as Ke,bB as $e,aG as S,a5 as g,hP as Ye,hQ as ns,hR as is,hS as os,hT as rs,e1 as ls,hU as cs,hV as ds,hW as us,aV as Ce,dW as Je,a_ as Xe,gd as me,bk as ms,d6 as Ze,aZ as ie,ea as hs,hX as xs,hY as gs,aD as Qe,e0 as ps,n as fs,hZ as vs,h_ as js,aF as bs,a6 as Ss,h$ as ys,i0 as Ne,bH as le,i1 as _e,i2 as Ms,i3 as ks,dR as ws,i4 as Cs,i5 as Ns,dJ as _s,i6 as Is,o as et,bm as oe,i7 as be,bn as tt,cQ as As,bw as Ie,af as st,i8 as Se,i9 as at,ia as nt,ib as it,bJ as Gs,ic as Ts,id as ot,ie as rt,ig as lt,ih as ct,ii as dt,ec as ut,ij as mt,ik as ht,fI as zs,il as Ps,b9 as xt,e6 as Es,im as Fs,cG as Ds,io as Os,ip as R,iq as Bs,ir as Ws,is as Ls,it as Us,cp as Hs,gt as Rs,iu as qs,iv as Vs,iw as Ks,e_ as gt,fQ as pt,ix as $s,iy as Ys,iz as ft,iA as Js,iB as vt,iC as Xs,iD as Zs,iE as Qs,iF as Ae,iG as ea,iH as ta,db as Ge,iI as Te,iJ as sa,iK as aa,iL as na,cY as ia,iM as oa}from"./n4exq6o15ap1g74l.js";import{G as jt}from"./m4g7yy9fehqi204r.js";import{u as ra,e as ye}from"./jjqeoesb3rhorlyg.js";import{g as la}from"./b3mht1lg7zv7qd3d.js";function ca({resource:t,grayedOut:s,className:a}){const n=t.gizmo.vanity_metrics?.num_conversations_str;return e.jsxs("div",{className:j("flex w-full grow items-center gap-4 overflow-hidden",a),children:[e.jsx(jt,{isFirstParty:!!t.gizmo.tags?.includes(He.FirstParty),src:t.gizmo.display.profile_picture_url??void 0,className:j("h-12 w-12 shrink-0",s&&"grayscale group-hover:grayscale-0")}),e.jsxs("div",{className:"overflow-hidden break-words text-ellipsis",children:[e.jsx("span",{className:"line-clamp-2 text-sm leading-tight font-semibold",children:t.gizmo.display.name}),e.jsx("span",{className:"line-clamp-3 text-xs",children:t.gizmo.display.description}),e.jsxs("div",{className:"text-token-text-tertiary mt-1 flex items-center gap-1 pe-1 text-xs text-ellipsis whitespace-nowrap",children:[e.jsx(ue,{gizmo:t,className:"text-xs",hideLink:!0}),n&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-[8px]",children:"•"}),e.jsx(Xt,{className:"h-3 w-3"}),n]})]})]})]})}const da=q(()=>V(()=>import("./iu52j2atxkw0fsly.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16])).then(t=>t.SnorlaxSplashScreen)),hn=({clientThreadId:t,currentModelId:s,onRequestCompletion:a,gizmoId:n})=>{const{data:o}=Re(n),i=fe(n),r=It();return o==null?null:i?e.jsx(da,{clientThreadId:t,gizmoId:n,currentModelId:s,onRequestCompletion:a}):e.jsx(bt,{gizmo:o,showStarterPrompts:!0,disableStarterPrompts:r})};function bt({gizmo:t,hideOwner:s=!1,children:a,className:n,avatarClassName:o,showStarterPrompts:i=!1,disableStarterPrompts:r=!1}){return t==null?null:e.jsx(e.Fragment,{children:e.jsxs("div",{className:j("text-token-text-primary flex h-full flex-col items-center justify-center","screen-arch:min-h-[calc(100dvh-var(--thread-leading-height)-var(--thread-trailing-height)-12px)]",n),children:[e.jsx(ua,{gizmo:t,avatarClassName:o}),e.jsx(ha,{gizmo:t,hideOwner:s,showStarterPrompts:i,disableStarterPrompts:r}),a]})})}function ua({gizmo:t,avatarClassName:s}){const a=!!(t!=null&&Zt(t)&&t?.gizmo.tags?.includes(He.FirstParty));return e.jsx("div",{className:"relative",children:e.jsx(jt,{isFirstParty:a||!t,src:t!=null&&Q(t)?t.profilePictureUrl:t?.gizmo.display.profile_picture_url,className:j("mb-3 h-12 w-12",s)})})}function ma({gizmo:t,disabled:s}){const a=la(t),n=ra(),o=Qt();if(a==null||a.length===0)return null;const i=a.slice(0,o?2:4);return e.jsx(ga,{starterPrompts:i,onSelectStarterPrompt:n,disabled:s})}function ha({gizmo:t,hideOwner:s,showStarterPrompts:a,disableStarterPrompts:n}){const o=t!=null&&Q(t)?t.name:t?.gizmo.display.name,i=t!=null&&Q(t)?t.description:t?.gizmo.display.description;return e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"text-center text-2xl font-semibold",children:o}),!s&&e.jsx("div",{className:"text-token-text-tertiary flex items-center gap-1",children:e.jsx(e.Fragment,{children:t&&Q(t)?e.jsx(ue,{gizmo:t}):e.jsx(ue,{gizmo:t,socials:t.gizmo.author.display_socials})})}),i&&e.jsx("div",{className:"text-token-text-primary max-w-md text-center text-sm font-normal",children:i}),a&&e.jsx(ma,{gizmo:t,disabled:n})]})}const xa=/\s/;function ga({starterPrompts:t,onSelectStarterPrompt:s,disabled:a,cssMobileDisplayLimit:n,marginOverride:o}){let i=t.map((r,d)=>{let c=r.oneliner??r.title;c===""&&(c=r.body);const m=xa.test(c);return e.jsxs("button",{className:j(n!==void 0&&d>=n&&"max-sm:hidden","border-token-border-default shadow-xxs enabled:hover:bg-token-main-surface-secondary relative flex w-40 flex-col gap-2 rounded-2xl border px-3 pt-3 pb-4 text-start align-top text-[15px] transition disabled:cursor-not-allowed"),disabled:a,onClick:h=>s(h,r,t,d),children:[e.jsx(es,{category:r.category}),e.jsx("div",{className:j("line-clamp-3 max-w-full text-balance text-gray-600 dark:text-gray-500",m?"break-word":"break-all"),children:c})]},r.id??d)});if(i.length>2){const r=Math.floor(i.length/2);i=[i.slice(0,r),i.slice(r)].map((d,c)=>e.jsx("div",{className:"flex max-w-3xl flex-wrap items-stretch justify-center gap-4",children:d},c))}return e.jsx("div",{className:j("mx-3 flex max-w-3xl flex-wrap items-stretch justify-center gap-4",o??"mt-12"),children:i})}const pa=q(()=>V(()=>import("./hzkfsu0uhsqiekzt.js"),__vite__mapDeps([17,1,3,4,2,5])).then(t=>t.GizmoKeepInSidebarMenuItem)),fa=4,re=te.div`font-bold mt-6`,va=t=>pe({queryFn:async()=>je.getAbout(t),queryKey:["gizmo","about",{gizmoId:t}]}),ja=t=>pe({queryFn:async()=>je.getCreatorSlice({creatorId:t}),queryKey:["gizmo","creator",{creatorId:t}],enabled:t!=null}),ba=t=>{switch(t.type){case E.BROWSER:return{title:_.browsing};case E.PYTHON:return{title:_.dataAnalysis};case E.DALLE:return{title:_.dalle};case E.IMAGE_GEN:return{title:_.imageGen};case E.MEMORY:return{title:_.memory,description:_.memoryDescription};case E.JIT_PLUGIN:return{title:_.actions,description:_.actionsDescription};default:return null}},Sa=({tools:t})=>{const s=he(),a=s?.includes(U.SearchTool)&&!s?.includes(U.SearchToolHoldout),n=ss(t??[],i=>i.type);var o=Pe(n.map(ba).filter(i=>i!=null)??[]);return o.length===0?null:(a&&(o=o.map(i=>i.title===_.browsing?{title:_.search}:i)),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(re,{className:"mb-2",children:e.jsx(u,{id:"gizmo.about.capabilitiesHeader",defaultMessage:"Capabilities"})}),o.map(i=>e.jsxs("div",{className:"flex flex-row items-start gap-2 py-1 text-sm",children:[e.jsx(Tt,{className:"icon-sm mt-0.5 text-green-600"}),e.jsxs("div",{children:[e.jsx(u,{...i.title}),i.description!=null&&e.jsx("div",{className:"text-token-text-tertiary text-xs",children:e.jsx(u,{...i.description})})]})]},i.title.id))]}))},J=te.div`flex flex-col justify-center items-center gap-2 border-s border-token-border-heavy first:border-0 w-48 mt-4 px-2`,X=te.div`flex flex-row items-center gap-1.5 pt-1 text-xl font-semibold text-center leading-none`,Z=te.div`text-xs text-token-text-tertiary`,ya=({gizmoResource:t})=>e.jsxs(se,{contentAlign:"end",sideOffset:4,triggerButton:e.jsx(L,{color:"ghost",icon:qe}),children:[e.jsx(pa,{gizmoResource:t,location:"about_modal"}),e.jsx(Ve,{gizmoResource:t})]}),Ma=({aboutBlock:t})=>{switch(t.type){case"generic_title_subtitle":return e.jsxs(J,{children:[e.jsx(X,{children:t.title}),e.jsx(Z,{children:t.subtitle})]});case"rating":return e.jsxs(J,{children:[e.jsxs(X,{children:[e.jsx(Ke,{className:"icon-sm"}),t.avg]}),e.jsx(Z,{children:t.count_str})]});case"category":return t.category_ranking!=null?e.jsxs(J,{children:[e.jsx(X,{children:e.jsx(u,{id:"gizmo.about.trendingRank",defaultMessage:"#{rank}",values:{rank:t.category_ranking}})}),e.jsx(Z,{children:e.jsx(u,{id:"gizmo.about.inCategory",defaultMessage:"in {category} {locale}",values:{category:t.category_str,locale:t.category_locale_str??""}})})]}):e.jsxs(J,{children:[e.jsx(X,{children:t.category_str}),e.jsx(Z,{children:e.jsx(u,{id:"gizmo.about.category",defaultMessage:"Category"})})]})}},ka=({blocks:t})=>e.jsx("div",{className:"flex justify-center",children:t.map(s=>e.jsx(Ma,{aboutBlock:s},s.type))}),wa=({href:t,onClick:s,children:a})=>e.jsx(Yt.div,{whileTap:{scale:.98},className:"flex",children:e.jsxs(Jt,{to:t,reloadDocument:!0,onClick:s,className:j("group border-token-border-medium bg-token-main-surface-primary hover:bg-token-main-surface-secondary relative ms-2 h-14 min-w-full grow rounded-xl border px-4 focus:outline-hidden"),children:[e.jsx("div",{className:"flex h-full items-center",children:e.jsx("div",{className:"line-clamp-2 text-sm break-all",children:a})}),e.jsx("div",{className:"border-token-border-medium bg-token-main-surface-primary group-hover:bg-token-main-surface-secondary absolute -start-2 -bottom-px h-3 w-4 border-b",children:e.jsx("div",{className:"border-token-border-medium bg-token-main-surface-primary h-3 w-2 rounded-ee-full border-e border-b"})}),e.jsx("div",{className:"absolute end-2 top-0 bottom-0 hidden items-center group-hover:flex",children:e.jsx("div",{className:"bg-token-main-surface-primary flex h-8 w-8 items-center justify-center rounded-lg",children:e.jsx(ve,{className:"icon-md text-token-text-primary"})})})]})}),Ca=({gizmo:t,onClose:s})=>{const a=D("1825130190").value,n=t.gizmo.display.prompt_starters?.slice(0,fa);return n==null||n.length===0||!a?null:e.jsxs("div",{className:"flex flex-col",children:[e.jsx(re,{children:e.jsx(u,{id:"gizmo.about.conversationStartersHeader",defaultMessage:"Conversation Starters"})}),e.jsx("div",{className:"mt-4 grid grid-cols-2 gap-x-1.5 gap-y-2",children:n.map((o,i)=>e.jsx(Na,{gizmo:t,prompt:o,onClick:s},i))})]})};function Na(t){const{gizmo:s,prompt:a,onClick:n}=t,o=as(s,a);return e.jsx(wa,{href:o?.toString()??"#",onClick:n,children:a})}const _a=({reviewStats:t})=>D("1825130190").value?e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"mb-2",children:e.jsx(re,{children:e.jsx(u,{id:"gizmo.about.ratingsHeader",defaultMessage:"Ratings"})})}),t!=null?[5,4,3,2,1].map(a=>e.jsxs("div",{className:"flex flex-row items-center gap-2 py-1 text-xl font-semibold",children:[e.jsxs("div",{className:"icon-lg relative",children:[e.jsx(Ke,{className:"icon-lg text-green-500"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-[11px] text-white",children:a})]}),e.jsx("div",{className:"h-2.5 grow overflow-hidden rounded-full bg-gray-100 dark:bg-gray-700",children:e.jsx("div",{className:"h-full bg-green-500",style:{width:`${(t?.by_rating[a-1]??0)*100}%`}})})]},a)):e.jsx("div",{className:"text-token-text-tertiary text-sm",children:e.jsx(u,{id:"gizmo.about.ratings.notEnoughRatings",defaultMessage:"Not enough ratings yet"})})]}):null,Ia=({gizmoId:t,creatorId:s})=>{const a=$e(S.GPTDetails),n=()=>g.closeModal(S.GPTDetails);return a?e.jsx(Aa,{gizmoId:t,creatorId:s,onClose:n}):null},Aa=({gizmoId:t,creatorId:s,onClose:a,children:n})=>{const o=Re(t),i=va(t),r=ja(s);return z.useEffect(()=>{p.logEvent("Detail Show Modal",{gizmo_id:t})},[t]),e.jsx(ze,{testId:"modal-gizmo-about",isOpen:!0,onClose:a,type:"success",hideSeparator:!0,showCloseButton:!0,noPadding:!0,className:"flex h-[calc(100vh-25rem)] min-h-[40vh] max-w-xl flex-col",children:e.jsx(Ga,{aboutQuery:i,gizmoQuery:o,creatorSliceQuery:r,onClose:a,children:n})})},Ga=({aboutQuery:t,gizmoQuery:s,creatorSliceQuery:a,children:n,onClose:o})=>{const i=y();if(t.isLoading||s.isLoading||a.isLoading)return e.jsx("div",{className:"flex h-40 items-center justify-center pb-10",children:e.jsx(ee,{})});const r=t.data?.gizmo,d=a?.data,c=s?.data;if(!r||t.error||s.error||a.error||t.data==null||s.data==null||a.data==null||!c){const m=At(t.error??s.error??a.error)??i.formatMessage({id:"I3v3Oj",defaultMessage:"An error occurred loading this GPT."});return e.jsx("div",{className:"relative flex flex-col gap-2 overflow-hidden px-2 py-4",children:e.jsx("div",{className:"flex flex-col p-4 text-red-500",children:m})})}return e.jsx("div",{className:"flex h-full px-2 py-4",children:e.jsxs("div",{className:"relative flex grow flex-col gap-4 overflow-y-auto px-8 pt-16 pb-20",children:[e.jsx("div",{className:"absolute top-0",children:e.jsxs("div",{className:"from-token-main-surface-primary fixed start-4 end-4 z-10 flex items-center justify-end bg-linear-to-b to-transparent pb-2",children:[c&&e.jsx(ya,{gizmoResource:c}),e.jsx(Gt,{onClick:o})]})}),e.jsx("div",{className:"absolute bottom-[64px]",children:e.jsx("div",{className:"from-token-main-surface-primary fixed start-4 end-4 z-10 flex min-h-[64px] items-end bg-linear-to-t to-transparent px-2",children:n})}),e.jsx(bt,{gizmo:c,className:"h-fit!",avatarClassName:"h-20! w-20!"}),e.jsx(ka,{blocks:t.data.about_blocks}),e.jsx(Ca,{gizmo:c,onClose:o}),e.jsx(Sa,{tools:c.tools}),e.jsx(_a,{reviewStats:t.data.review_stats}),d&&e.jsx(Ta,{gizmos:d.items})]})})};function Ta({gizmos:t}){return t.length===0?null:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"mb-2",children:e.jsx(re,{children:e.jsx(u,{id:"gizmo.about.moreByHeader",defaultMessage:"More by {creatorName}",values:{creatorName:t[0].gizmo.author.display_name}})})}),e.jsx("div",{className:j("no-scrollbar group flex min-h-[104px] items-center space-x-2 overflow-x-auto overflow-y-hidden"),children:t?.map(s=>e.jsx("a",{onClick:()=>{p.logEvent("Detail Click Gizmo",{gizmo_id:s.gizmo.id})},href:ts(s),className:"bg-token-main-surface-secondary h-fit min-w-fit rounded-xl px-1 py-4 md:px-3 md:py-4 lg:px-3",children:e.jsx(ca,{resource:s})},s.gizmo.id))})]})}const xn=t=>e.jsx("div",{className:"flex grow flex-col items-center",children:e.jsxs(L,{color:"primary",className:"h-12 w-full",icon:ve,...t,children:[e.jsx(u,{id:"gizmo.about.startChat",defaultMessage:"Start Chat"}),t.children]})}),_=ne({browsing:{id:"gizmo.about.tools.browsing",defaultMessage:"Browsing"},search:{id:"gizmo.about.tools.search",defaultMessage:"Web Search"},dataAnalysis:{id:"gizmo.about.tools.dataAnalysis",defaultMessage:"Code Interpreter & Data Analysis"},dalle:{id:"gizmo.about.tools.dalle",defaultMessage:"DALL·E Images"},imageGen:{id:"gizmo.about.tools.imageGen",defaultMessage:"4o Image Generation"},memory:{id:"gizmo.about.tools.memory",defaultMessage:"Memory"},actions:{id:"gizmo.about.tools.actions",defaultMessage:"Actions"},actionsDescription:{id:"gizmo.about.tools.actionsDescription",defaultMessage:"Retrieves or takes actions outside of ChatGPT"},memoryDescription:{id:"gizmo.about.tools.memoryDescription",defaultMessage:"Learns from previous chats to improve future conversations"}}),za=q(()=>V(()=>import("./hzkfsu0uhsqiekzt.js"),__vite__mapDeps([17,1,3,4,2,5])).then(t=>t.GizmoKeepInSidebarMenuItem));function Pa({children:t,clientThreadId:s,gizmoResource:a,showReportModal:n,inMobileHeader:o}){return e.jsxs(e.Fragment,{children:[e.jsx(se,{contentAlign:o?"center":"start",size:"small",triggerButton:t,children:e.jsx(St,{clientThreadId:s,gizmoResource:a,showReportModal:n})}),e.jsx(Ea,{gizmoResource:a})]})}function Ea({gizmoResource:t}){const s=$e(S.GPTRemoveThirdParty),a=Ee(),n=Ye(t);return e.jsxs(e.Fragment,{children:[e.jsx(Ia,{gizmoId:t.gizmo.id,creatorId:t.gizmo.author.user_id}),e.jsx(ns,{gizmo:t}),n&&e.jsx(is,{gizmo:t}),n&&e.jsx(os,{gizmo:t}),e.jsx(rs,{gpt:t,isOpen:s,onClose:()=>g.closeModal(S.GPTRemoveThirdParty),account:a})]})}function St({clientThreadId:t,gizmoResource:s,showReportModal:a}){const n=ls(s),o=cs(s),i=ds(s.gizmo.id),r=he(),d=us(s),c=s.gizmo.share_recipient===Ce.Marketplace||s.gizmo.share_recipient===Ce.Link,m=!d&&c,h=D("1825130190").value,f=D("3645668434").value,b=h&&!d&&Ye(s),C=r?.includes(U.GizmoSupportEmails)&&!d&&s.gizmo.author.will_receive_support_emails&&b,x=zt(),v=Fe(t),M=Je(U.WorkspaceShareLinks),{isUnauthenticated:N}=K(),G=M&&v&&!N,A=W();return e.jsxs(e.Fragment,{children:[e.jsx(l.Item,{onClick:()=>{p.logNewChatButtonClicked({location:"Gizmo information dropdown",gizmo_id:s.gizmo.id}),Xe(A,`/g/${s.gizmo.short_url}`)},icon:me,children:e.jsx(u,{...k.newChat})}),e.jsx(l.Item,{onClick:()=>g.openModal(S.GPTDetails),icon:ms,children:e.jsx(u,{...k.about})}),s.tools?.find(w=>w.type===E.JIT_PLUGIN)&&e.jsx(l.Item,{onClick:()=>g.openModal(S.GPTPrivacySettings),icon:Ze,children:e.jsx(u,{...k.privacySettings})}),n&&e.jsx(l.Item,{onClick:()=>{A(i)},icon:ie,children:e.jsx(u,{...k.customize})}),!n&&o&&f&&e.jsxs(e.Fragment,{children:[e.jsx(l.Item,{onClick:async()=>{A(`/g/${s.gizmo.id}/view`)},icon:hs,children:e.jsx(u,{id:"GizmoInformation.viewGizmoLabel",defaultMessage:"View configuration"})}),e.jsx(l.Item,{onClick:async()=>{const w=await je.copyGizmo({gizmoId:s.gizmo.id});w.gizmo.id&&A(`/gpts/editor/${w.gizmo.id}`)},icon:Pt,children:e.jsx(u,{id:"GizmoInformation.copyGizmoLabel",defaultMessage:"Duplicate GPT"})})]}),e.jsx(za,{gizmoResource:s,location:"conversation_page"}),e.jsx(Ve,{gizmoResource:s}),C&&e.jsx(l.Item,{onClick:()=>g.openModal(S.GPTFeedbackEmail),icon:ve,children:e.jsx(u,{...k.feedbackEmail})}),b&&e.jsx(l.Item,{onClick:()=>g.openModal(S.GPTReview),icon:xs,children:e.jsx(u,{...k.reviewGPT})}),m&&e.jsx(l.Item,{onClick:a,icon:gs,children:e.jsx(u,{...k.report})}),G&&e.jsx(l.Item,{onClick:()=>g.openSharingModal(v),icon:Qe,children:e.jsx(u,{...k.shareChat})}),x&&e.jsxs(e.Fragment,{children:[e.jsx(l.Separator,{}),e.jsx(l.Item,{color:"danger",onClick:()=>g.openModal(S.GPTRemoveThirdParty),icon:Et,children:e.jsx(u,{defaultMessage:"Remove GPT from workspace",id:"GizmoInformation.removeGPT"})})]}),r?.includes("debug")&&e.jsxs(e.Fragment,{children:[e.jsx(l.Separator,{}),e.jsx(l.Item,{onClick:()=>{A(ps(s))},children:"(Internal) See share page"})]})]})}const Fa=({conversation:t,inMainScreen:s=!1,isActiveConversation:a,inChatWindow:n=!1})=>{const o=De(),i=t.id,r=t.gizmo_id,d=fe(r),c=Ft(i),m=Je(U.WorkspaceShareLinks),{isUnauthenticated:h}=K(),f=m&&c&&!h&&!d,b=fs();z.useState(!!t.is_do_not_remember);const C=y();let x=null;const{snorlaxes:v}=vs();x=v;let M=null;d&&x&&(M=x.find(({gizmo:P})=>P.gizmo.id===r)?.gizmo);const N=js(),G=Ue(),{eligible:A,markAsViewed:w}=bs(Ss.ArchiveConversationOnboarding),Y=Oe(),T=W(),_t=async()=>{await xe.safePatch("/conversation/{conversation_id}",{parameters:{path:{conversation_id:t.id}},requestBody:{is_archived:!0}}),Is(G,t.gizmo_id),H.logEvent("chatgpt_conversation_archived"),p.logEvent("Conversation Archived"),A&&(Y.info(C.formatMessage({defaultMessage:"You can view archived chats in Settings",id:"HistoryGizmoItem.archiveChatOnboarding"}),{duration:10,hasCloseButton:!0}),w()),a&&Xe(T)};return e.jsxs(e.Fragment,{children:[f&&!n&&e.jsx(l.Item,{onClick:()=>g.openSharingModal(c,"History Item Menu"),icon:Qe,"data-testid":"share-chat-menu-item",children:e.jsx(u,{...k.shareChat})}),!1,b&&x&&x?.length>0&&ys(r)&&c&&e.jsxs(e.Fragment,{children:[f&&!n&&e.jsx(l.Separator,{}),d&&e.jsxs(e.Fragment,{children:[x.length>1&&e.jsxs(l.Sub,{children:[e.jsx(l.SubMenuTrigger,{icon:Ne,children:e.jsx(u,{...le.moveConversationToSnorlax})}),e.jsx(l.Portal,{children:e.jsx(l.SubContent,{children:e.jsx(_e,{inSidebarFlyout:!1,onUpdateConversationGizmo:P=>{N({newGizmoId:P,conversation:t,previousGizmoId:r})},currentGizmoId:r})})})]}),e.jsx(l.Item,{onClick:()=>{N({newGizmoId:null,conversation:t,previousGizmoId:r})},icon:Ms,children:e.jsx("div",{className:"overflow-hidden text-ellipsis whitespace-nowrap",children:e.jsx(u,{...le.removeConversationFromSnorlax,values:{projectName:M?.gizmo.display.name??"project"}})})})]}),!d&&e.jsxs(l.Sub,{children:[e.jsx(l.SubMenuTrigger,{icon:Ne,children:C.formatMessage(le.addConversationToSnorlax)}),e.jsx(l.Portal,{children:e.jsx(l.SubContent,{children:e.jsx(_e,{inSidebarFlyout:!1,onUpdateConversationGizmo:P=>N({newGizmoId:P,conversation:t,previousGizmoId:r})})})})]}),e.jsx(l.Separator,{})]}),!n&&e.jsx(l.Item,{disabled:!c,onClick:()=>{setTimeout(()=>{c&&ks.publish({kind:s?"editTitleInMainScreen":"editTitle",serverThreadId:c})},100)},icon:ws,children:e.jsx(u,{...k.renameChat})}),!1,e.jsx(l.Item,{disabled:!c,onClick:()=>{c&&_t()},icon:Cs,children:e.jsx(u,{...k.archiveChat})}),e.jsx(l.Item,{color:"danger",disabled:!c,onClick:()=>{c&&Dt(o,({closeModal:P})=>e.jsx(Ns,{serverThreadId:c,closeModal:P,isActiveConversation:a}))},icon:_s,"data-testid":"delete-chat-menu-item",children:e.jsx(u,{...k.deleteChat})})]})},yt=({conversation:t,children:s,onOpenChange:a,inMainScreen:n=!1,isActiveConversation:o,inChatWindow:i=!1,...r})=>{const[d,c]=z.useState(!1);return e.jsx(se,{...r,open:d,onOpenChange:m=>{c(m),a?.(m)},side:"bottom",contentAlign:i?"end":"start",triggerButton:s,size:"auto",children:d&&e.jsx(Fa,{conversation:t,inMainScreen:n,isActiveConversation:o,inChatWindow:i})})},k=ne({newChat:{defaultMessage:"New chat",id:"GizmoInformation.newChat"},about:{defaultMessage:"About",id:"GizmoInformation.about"},privacySettings:{defaultMessage:"Privacy settings",id:"GizmoInformation.privacySettings"},viewDetails:{defaultMessage:"View details",id:"GizmoInformation.viewDetails"},share:{defaultMessage:"Share",id:"GizmoInformation.share"},favorite:{defaultMessage:"Favorite",id:"GizmoInformation.favorite"},customize:{defaultMessage:"Edit GPT",id:"GizmoInformation.customize"},feedbackEmail:{defaultMessage:"Send feedback",id:"GizmoInformation.feedbackEmail"},reviewGPT:{defaultMessage:"Review GPT",id:"GizmoInformation.reviewGPT"},report:{defaultMessage:"Report",id:"GizmoInformation.report"},privacy:{defaultMessage:"Privacy",id:"GizmoInformation.privacy"},deleteChat:{defaultMessage:"Delete",id:"GizmoInformation.deleteChat.0"},debugChat:{defaultMessage:"(Internal) Debug",id:"GizmoInformation.debugChat"},renameChat:{defaultMessage:"Rename",id:"GizmoInformation.renameChat"},archiveChat:{defaultMessage:"Archive",id:"GizmoInformation.archiveChat.0"},shareChat:{defaultMessage:"Share",id:"GizmoInformation.shareChat"},shareChatLong:{defaultMessage:"Share chat",id:"GizmoInformation.shareChatLong"}}),gn=Object.freeze(Object.defineProperty({__proto__:null,GizmoConversationOptionsDropdown:yt,GizmoInformationDropdown:Pa,GizmoInformationDropdownItems:St},Symbol.toStringTag,{value:"Module"})),Da=q(()=>V(()=>import("./g0kxck7ediewm05i.js"),__vite__mapDeps([18,1,2,3,4,5,19,20,21,22,23])));function pn({onClickSettings:t}){return e.jsx("div",{className:"group relative",children:e.jsxs(l.Root,{children:[e.jsx(La,{}),e.jsx(l.Portal,{children:e.jsx(l.Content,{side:"top",className:"popover border-token-border-default bg-token-main-surface-primary absolute start-0 bottom-full z-50 mb-1 h-fit w-full overflow-hidden rounded-2xl border shadow-lg outline-hidden",children:e.jsx(Wa,{onClickSettings:t})})})]})})}function Mt({currentAccount:t}){const s=!t.isEnterprisey(),a=y(),n=oe(),o=W();return n?e.jsxs("div",{className:"flex items-center justify-between gap-2 py-2 ps-5 pe-4",children:[n?.email&&e.jsx("div",{className:"text-token-text-secondary text-sm",children:n.email}),s&&e.jsx(B,{label:a.formatMessage(I.addWorkspaceTooltip),side:"right",children:e.jsx("button",{onClick:()=>xt(o,"profile menu"),children:e.jsx(Es,{className:"icon-sm text-token-text-primary"})})})]}):null}function Oa({currentAccount:t}){return e.jsxs(e.Fragment,{children:[e.jsx(Mt,{currentAccount:t}),e.jsx("div",{className:"flex h-11 w-full items-center justify-start gap-3 px-3 py-1 text-sm",children:e.jsx(wt,{workspace:t,isLoading:!1,currentWorkspaceId:t.id,showCheck:!1})})]})}function kt(){const t=et(),s=Ue(),{data:a}=ae(),n=ge(a),[o,i]=z.useState(!1),r=oe(),d=y(),c=Oe();if(!n||!a)return null;const m=n.isWorkspaceAccount(),h=a.accountItems.length>1,f=a.accountItems,b=Pe([f.find(x=>x.isPersonalAccount()),...f.filter(x=>!x.isPersonalAccount())]);if(b.sort((x,v)=>x.isPersonalAccount()?1:v.isPersonalAccount()?-1:0),!h)return m?e.jsx(Oa,{currentAccount:n}):r?.email&&e.jsx("div",{className:"text-token-text-secondary ms-3 me-2 py-2 text-sm",children:r.email});const C=b.map(x=>{const v=x.isDeactivated();return e.jsx(l.Item,{disabled:v,onClick:()=>{if(v||x.id===n?.id)return;i(!0);const{willRedirect:M}=Ot(s,x.id,t,d,c);M||Bt()},className:j(v&&"radix-disabled:pointer-events-auto hover:bg-transparent"),children:x.isDeactivated()?e.jsx(Ba,{workspace:x,isLoading:o}):e.jsx(wt,{workspace:x,isLoading:o,currentWorkspaceId:n?.id})},x.id)});return e.jsxs(e.Fragment,{children:[e.jsx(Mt,{currentAccount:n}),e.jsx(l.Separator,{}),C]})}function wt({workspace:t,isLoading:s,currentWorkspaceId:a,showCheck:n=!0}){const o=t.canAccessWithCurrentSession,i=!s&&n&&t.id===a;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex w-full items-center gap-2.5",children:[e.jsx("span",{className:"flex h-5 w-5 items-center justify-center",children:e.jsx(be,{iconSize:"small",workspace:t,className:j({"shrink-0":!0})})}),e.jsx("div",{className:"text-token-text-primary line-clamp-1",children:tt(y(),t)}),s&&e.jsx(ee,{}),i&&e.jsx("span",{className:"text-token-text-primary",children:e.jsx(Wt,{className:"icon-sm"})}),!o&&e.jsx("span",{className:"text-token-text-primary",children:e.jsx(Lt,{className:"icon-sm"})})]}),!o&&e.jsx("div",{className:"rowDivClassName",children:e.jsx("small",{className:"text-token-text-secondary",children:e.jsx(u,{...t.ssoConnectionName?I.authenticateWithSSOToAccessWorkspace:I.authenticateWithoutSSOToAccessWorkspace})})})]})}function Ba({workspace:t,isLoading:s}){const a=y(),n=t.isOwnerOfAccount(),[o,i]=z.useState(!1),r=As(t.id),d=t.mustGetSubscriptionBillingCurrency("DeactivatedWorkspaceMenuItem");return z.useEffect(()=>{r!=null&&o&&(g.setPurchaseWorkspaceData({minimumSeats:Math.max(r,Ie),billingDetails:{currency:d},existingAccount:t}),i(!1))},[r,o,t,d]),e.jsxs(e.Fragment,{children:[e.jsxs(B,{className:"flex w-full flex-1 items-center gap-2.5",label:a.formatMessage(I.disabledWorkspaceTooltip),sideOffset:20,side:"right",children:[e.jsx("span",{className:"flex h-5 w-5 items-center justify-center",children:e.jsx(Ze,{className:"icon-sm shrink-0 opacity-30"})}),e.jsx("div",{className:"truncate opacity-30",children:tt(a,t)})]}),s&&e.jsx(ee,{}),!s&&e.jsxs(l.Root,{children:[e.jsx(l.Trigger,{className:"hover:bg-token-main-surface-secondary rounded-sm text-center",children:e.jsx(qe,{className:"icon-sm m-1"})}),e.jsx(l.Portal,{children:e.jsxs(l.Content,{children:[n&&e.jsx(e.Fragment,{children:e.jsx(l.Item,{onClick:()=>{r==null?i(!0):g.setPurchaseWorkspaceData({minimumSeats:Math.max(r,Ie),billingDetails:{currency:d},existingAccount:t})},children:o?e.jsx(ee,{}):e.jsx(u,{id:"navigation.reactivateWorkspace",defaultMessage:"Reactivate workspace"})})}),e.jsx(l.Item,{onClick:()=>{g.setLeaveWorkspaceData(t)},children:e.jsx(u,{id:"navigation.leaveWorkspace",defaultMessage:"Leave workspace"})})]})})]})]})}function Wa({onClickSettings:t}){const s=oe(),{data:a}=ae(),n=ge(a),o=st(),{clientThreadId:i}=ye(),{isDesktopAppAvailable:r,isSidekickAvailable:d}=Se(),c=Ha(i??"none"),{openModal:m}=at();var h=n?.isTeam()??!1;if(!n||!a)return null;const f=n.isWorkspaceAccount(),b=!o;return e.jsxs(e.Fragment,{children:[e.jsx(kt,{}),s?.email&&e.jsx(l.Separator,{}),f?e.jsx(it,{}):e.jsx(nt,{}),b&&e.jsx(l.Item,{icon:Gs,children:e.jsx("a",{href:Ts(),target:"_blank",onClick:()=>{p.logEvent("Click FAQ")},children:e.jsx(u,{...I.helpAndFaq})})}),e.jsx(l.Item,{onClick:t,icon:ie,testId:"accounts-settings-button",children:e.jsx(u,{...I.settings})}),h&&e.jsxs(e.Fragment,{children:[e.jsx(l.Item,{onClick:()=>{g.openModal(S.InviteUsersToWorkspace),p.logEvent("Account: Invite Member Button Clicked",{location:"dropdown-menu-click"}),H.logEvent("chatgpt_invite_users_to_workspace",0,{action:"OpenAdminInviteModal",location:"dropdown-menu-click",text:"AddTeammates",step:"OpenModal"})},icon:ot,children:e.jsx(u,{...I.addTeammatesButton})}),e.jsx(Da,{workspace:n})]}),(r||c)&&e.jsx(l.Separator,{}),r&&e.jsx(Ua,{openDownloadModal:m,isSidekickAvailable:d}),c&&e.jsx(Ra,{}),e.jsx(l.Separator,{}),e.jsx(l.Item,{onClick:()=>{p.logEvent("Account: Click Log Out",{eventSource:"mouse"}),p.logLogOutButtonClicked({location:"account_switcher_menu"}),g.openModal(S.LogoutConfirm)},icon:rt,children:e.jsx(u,{...I.logOut})})]})}function La(){return oe()?e.jsx(qa,{}):null}function Ua({openDownloadModal:t,isSidekickAvailable:s}){return e.jsx(l.Item,{icon:lt,onClick:()=>{p.logEvent("Account: Click Download App"),t()},children:e.jsx(u,{...s?I.downloadMacosApp:I.downloadWindowsApp})})}const Ha=t=>{const s=ct(t),a=dt(s,Be.Search),n=ut();return a&&We()&&!n},Ra=()=>e.jsx("span",{children:e.jsx(l.Item,{icon:mt,onClick:()=>{window.open(ht),p.logEventWithStatsig("ChatGPT Browser Extension: User Menu Clicked","chatgpt_browser_extension_user_menu_clicked")},children:e.jsx(u,{id:"E5VPz/",defaultMessage:"Get ChatGPT search extension"})})});function qa(){const{data:t}=ae(),s=ge(t),a=zs(),n=Ps(),o=y();if(!s||!t)return null;const i=s.isWorkspaceAccount(),r=t.accountItems.length>1;return e.jsxs(l.Trigger,{className:"can-hover:hover:bg-token-sidebar-surface-secondary radix-state-open:bg-token-sidebar-surface-secondary flex h-fit w-full max-w-[100%] items-center gap-2 rounded-lg p-2 text-sm","data-testid":"accounts-profile-button","aria-label":o.formatMessage({id:"VYC5Ys",defaultMessage:"Open profile menu for user {userName} in workspace: {workspaceName}"},{userName:n,workspaceName:a}),children:[e.jsx("div",{className:"shrink-0",style:{viewTransitionName:"var(--vt-profile-avatar-sidebar)"},children:e.jsx(be,{iconSize:"gizmo"})}),e.jsxs("div",{className:"text-token-text-primary relative -top-px grow -space-y-px truncate text-start",children:[e.jsx("div",{dir:"auto",children:n}),i||r?e.jsx("div",{className:"text-token-text-secondary truncate text-xs",dir:"auto",children:a}):null]})]})}const I=ne({helpAndFaq:{id:"navigation.helpAndFaq",defaultMessage:"Help & FAQ"},settings:{id:"navigation.settings",defaultMessage:"Settings"},logOut:{id:"navigation.logOut",defaultMessage:"Log out"},accountSwitcherTitle:{id:"navigation.accountSwitcherTitle",defaultMessage:"Workspaces"},defaultWorkspaceTitle:{id:"useWorkspaces.defaultWorkspaceTitle",defaultMessage:"Untitled Workspace"},addWorkspaceTooltip:{id:"navigation.addWorkspaceTooltip",defaultMessage:"Create a Team workspace"},disabledWorkspaceTooltip:{id:"navigation.disabledWorkspaceTooltip",defaultMessage:"This workspace has been deactivated"},downloadMacosApp:{id:"navigation.downloadMacApp",defaultMessage:"Download the macOS app"},downloadWindowsApp:{id:"navigation.downloadWindowsApp",defaultMessage:"Download the Windows app"},authenticateWithSSOToAccessWorkspace:{id:"CV7pdM",defaultMessage:"Authenticate with SSO to access this workspace"},authenticateWithoutSSOToAccessWorkspace:{id:"zfCWFh",defaultMessage:"Authenticate without SSO to access this workspace"},addTeammatesButton:{id:"inviteMemberButton.inviteMemberButton",defaultMessage:"Add Teammates"}}),$=Ut(Ht(()=>({feedItems:[],hasUnreadNotifications:!1,isModalOpen:!1}))),ce=$.getState,de=$.setState,Va={getIsModalOpen:(t=ce())=>t.isModalOpen,getFeedItems:(t=ce())=>t.feedItems,getHasUnreadNotifications:(t=ce())=>t.hasUnreadNotifications},F={setIsModalOpen:t=>{de({isModalOpen:t})},setHasUnreadNotifications:t=>{de({hasUnreadNotifications:t})},bulkLoadFeedItems:t=>{de(s=>{s.feedItems=t})}};function Ka(){const t=Me(),s=$(Va.getHasUnreadNotifications);return t&&s}function Ct(t,s,a,n){const o=Ka(),i=Fs();return o||n&&i?t:s}function Me(){const{layer:t}=O("3606233934",{shouldLogExposure:!1});return t.get("enable_notifications_feed")}function fn(){const t=Me(),s=$(a=>a.isModalOpen);return t&&s}function $a(){const t=Me(),s=pe({queryKey:["fetch-notifications-feed"],queryFn:async()=>{const a=await xe.safeGet("/notifications/feed");return F.bulkLoadFeedItems(a.items),F.setHasUnreadNotifications(a.has_unreads),a.items},enabled:t});return{isLoading:s.isLoading,isFetching:s.isFetching}}function vn(){const t=y(),s=Ct(Os,Ds,!0,!1),a=t.formatMessage({id:"1UHY6w",defaultMessage:"Notifications"});return $a(),e.jsx(B,{sideOffset:4,label:a,className:"group",children:e.jsx(R,{icon:s,onClick:()=>F.setIsModalOpen(!0),"aria-label":a})})}function Ya({item:t,closeModal:s}){const n={announcement:qs}[t.type];let o=null;try{const m=new Date(t.created_at);o=Hs({date:m})}catch{}const{clientThreadId:i}=ye(),r=Rs(i),d=W(),c=m=>{if(t.action?.type==="show_conversation")s(),d(t.action.conversation_id);else if(t.action?.type==="new_conversation"){const h=t.action;h.prefilled_message&&(r({sourceEvent:m,promptMessage:qt(h.prefilled_message),requestedModelId:h.model_slug??void 0}),s())}};return e.jsxs("button",{className:"border-token-border-default flex w-full items-center justify-start gap-3 overflow-hidden border-t py-4 first-of-type:border-none",onClick:c,disabled:!t.action,children:[e.jsx("div",{className:"relative",children:n&&e.jsx(n,{className:"icon-md"})}),e.jsxs("div",{className:"flex h-5 shrink grow basis-0 items-center justify-between",children:[e.jsx("div",{className:"text-token-text-primary text-sm leading-tight font-normal",children:t.message}),e.jsx("div",{className:"flex items-center justify-start gap-1",children:e.jsx("div",{className:"text-token-text-tertiary text-sm leading-tight font-normal",children:o??""})})]})]})}function jn(){const{feedItems:t,isModalOpen:s}=$();z.useEffect(()=>{s&&(F.setHasUnreadNotifications(!1),xe.safePost("/notifications/feed/read",{authOption:Rt.SendIfAvailable}))},[s]);const a=y(),n=W(),{value:o}=D("3325813340"),i=new Date,r=Bs(t,c=>{const m=new Date(c.created_at);if(Ws(m))return"today";const h=Ls(i,m);return h<=7?"last_7_days":h<=30?"last_30_days":"more_than_30_days"}),d=c=>{switch(c){case"today":return a.formatMessage({id:"zlkA39",defaultMessage:"Today"});case"last_7_days":return a.formatMessage({id:"FW89A4",defaultMessage:"Last 7 days"});case"last_30_days":return a.formatMessage({id:"2s3h/P",defaultMessage:"Last 30 days"});case"more_than_30_days":return a.formatMessage({id:"yArZiR",defaultMessage:"More than 30 days"})}};return e.jsx(ze,{testId:"modal-notifications-feed",isOpen:s,onClose:()=>{F.setIsModalOpen(!1)},type:"success",size:"custom",className:"max-w-3xl",children:e.jsxs("div",{className:"flex flex-col gap-y-10",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:a.formatMessage({id:"kWt8Cx",defaultMessage:"Notifications"})}),o&&e.jsx(Us,{icon:e.jsx(ie,{className:"icon-lg"}),onClick:()=>{n("/#settings/Notifications")},label:a.formatMessage({id:"mZVh0S",defaultMessage:"Notifications settings"})})]}),Object.entries(r).map(([c,m])=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold",children:d(c)}),m.map(h=>e.jsx(Ya,{item:h,closeModal:()=>F.setIsModalOpen(!1)},h.id))]},c))]})})}const Ja=q(()=>V(()=>import("./g0kxck7ediewm05i.js"),__vite__mapDeps([18,1,2,3,4,5,19,20,21,22,23])));function bn({showShareButton:t,showProfileDropdown:s,clientThreadId:a}){const n=Fe(a),o=y(),{layer:i}=O("1547743984"),[r,d,c,m]=ke(a,T=>[we.hasUserMessage(T),we.getGizmoId(T),Js(T),T?.is_do_not_remember??null]),h=vt(d),f=$t(a),{prefetchSearchPromises:b}=ye(),C=b!=null,x=i.get("show_share_button_text",!1),v=o.formatMessage({id:"GizmoInformation.shareChat",defaultMessage:"Share"}),M=()=>g.openSharingModal(n),N=fe(d),G=he();Le();const{isUnauthenticated:A}=K(),w=ke(a,T=>T),Y=z.useMemo(()=>a==null?null:{id:a,title:w?.title??"",create_time:null,update_time:null,conversation_template_id:null,async_status:w?.async_status??null,gizmo_id:d??null,snippet:null,is_do_not_remember:m},[d,a,w?.title,w?.async_status,m]);return e.jsxs(e.Fragment,{children:[e.jsx(Xs,{}),h&&f&&!C&&!r&&e.jsx(Zs,{layout:"wide",clientThreadId:a}),G?.includes("caterpillar")&&e.jsx(Qs,{}),null,t&&n&&e.jsx(e.Fragment,{children:x?e.jsx(L,{onClick:M,icon:Ae,label:v,"data-testid":"share-chat-button",color:"secondary",className:"text-token-text-primary",style:{viewTransitionName:"var(--vt_share_chat_wide_button)"},children:v}):e.jsx(B,{label:o.formatMessage({id:"CPEfES",defaultMessage:"Share chat"}),children:e.jsx(R,{"data-testid":"share-chat-button",onClick:M,icon:Ae,style:{viewTransitionName:"var(--vt_share_chat_compact_button)"}})})}),n!=null&&Y!=null&&!A?e.jsx(yt,{conversation:Y,inMainScreen:!0,isActiveConversation:!0,inChatWindow:!0,children:e.jsx(ea,{"aria-label":o.formatMessage({id:"9Mk/E3",defaultMessage:"Open conversation options"}),"data-testid":"conversation-options-button"})}):d&&N?e.jsx(e.Fragment,{children:e.jsx(ta,{gizmoId:d})}):null,!1,s&&e.jsx(Xa,{clientThreadId:a})]})}function Xa({clientThreadId:t}){const{isUnauthenticated:s}=K();return Ge.markStart("LoginOrProfileMenu"),Ge.markRendered("LoginOrProfileMenu"),s?e.jsx(on,{}):e.jsx(Za,{clientThreadId:t})}function Za({clientThreadId:t}){const{data:s}=ae(),a=Vt(),n=Ee(),o=a?.isPlus()??!1,i=a?.isWorkspaceAccount()??!1,{openSettings:r}=Vs(),{isDesktopAppAvailable:d}=Se(),c=tn(t??"none"),{openModal:m}=at(),{layer:h}=O("2888142241"),f=y(),b=De();let C=a?.isTeam()??!1;const x=s&&Kt(s),{layer:v}=O("2670443078");if(!a)return e.jsx("div",{className:"flex h-10 w-10 items-center justify-center",children:e.jsx("div",{className:"bg-token-main-surface-tertiary h-8 w-8 rounded-full"})});const M=s&&s.accountItems.length>1;let N=!1;!i&&!o&&x&&v.get("is_gating_fix_enabled",!1)&&(N=x);const G=!i&&!N&&h.get("is_upgrade_in_settings",!1);return Ks(b),e.jsxs(se,{triggerButton:e.jsx("button",{onClick:()=>{p.logEvent("Account: Open Profile Menu"),H.logEvent("chatgpt_account_open_profile_menu")},"aria-label":f.formatMessage({id:"wz2MQV",defaultMessage:"Open Profile Menu"}),"data-testid":"profile-button",className:"text-token-text-secondary hover:text-token-text-primary hover:bg-token-surface-hover radix-state-open:text-token-text-secondary flex h-10 w-10 items-center justify-center rounded-full px-1 transition focus-visible:outline-0",children:e.jsx(be,{iconSize:"medium",showPlanTypeBadge:!0})}),children:[M&&e.jsx(kt,{}),M?e.jsx(l.Separator,{}):null,i?e.jsx(it,{}):e.jsx(nt,{}),e.jsx(l.Item,{icon:ie,onClick:()=>r(),"data-testid":"settings-menu-item",children:e.jsx(u,{defaultMessage:"Settings",id:"navigation.settings.0"})}),!1,!1,e.jsx(l.Separator,{}),C&&n&&e.jsxs(e.Fragment,{children:[e.jsx(l.Item,{"data-testid":"settings-menu-item-invite-teammates",onClick:()=>{g.openModal(S.InviteUsersToWorkspace),p.logEvent("Account: Invite Member Button Clicked",{eventSource:"mouse",location:"profile_drop_down"}),H.logEvent("chatgpt_invite_users_to_workspace",0,{action:"OpenAdminInviteModal",location:"dropdown-menu-click",text:"AddTeammates",step:"OpenModal"})},icon:ot,children:e.jsx(u,{...Nt.addTeammatesButton})}),e.jsx(Ja,{workspace:n})]}),d&&e.jsx(en,{openDownloadModal:m}),G&&e.jsx(an,{currentAccount:n}),c&&e.jsx(sn,{}),e.jsxs(e.Fragment,{children:[(G||d||c)&&e.jsx(l.Separator,{}),e.jsx(l.Item,{onClick:()=>{p.logEvent("Account: Click Log Out",{eventSource:"mouse"}),p.logLogOutButtonClicked({location:"profile_drop_down"}),g.openModal(S.LogoutConfirm)},"data-testid":"log-out-menu-item",icon:rt,children:e.jsx(u,{defaultMessage:"Log out",id:"navigation.logOut.0"})}),null]})]})}function Qa({onClick:t,className:s,testId:a}){const n=y(),o=Le(),{value:i}=D("4192239497"),r=vt(),d=o&&!r,c=ft(),m=d?n.formatMessage({id:"yqd/J5",defaultMessage:"Clear chat"}):n.formatMessage({id:"OFyxqj",defaultMessage:"New chat"}),h=f=>{if(!d&&i){if(f.metaKey||f.ctrlKey){p.logEventWithStatsig("New Chat Opened In New Tab","chatgpt_new_chat_opened_in_new_tab");return}f.preventDefault()}!oa(window)&&!c&&g.toggleNavCollapsed(!0),t()};return e.jsx(B,{sideOffset:4,label:m,className:j("flex",s),children:d||!i?e.jsx(R,{onClick:h,icon:d?Te:me,"aria-label":m,"data-testid":a,as:"button"}):e.jsx(R,{onClick:h,icon:d?Te:me,"aria-label":m,"data-testid":a,as:"link"})})}function Sn({clientThreadId:t,hideNewChat:s=!1}){const[a]=gt(i=>[i.activeStageSidebar]),n=pt(),o=$s({clientThreadId:t,location:"Navigation actions"});return!n&&!a?null:e.jsxs("div",{className:"flex items-center",children:[e.jsx(nn,{}),!s&&e.jsx(Qa,{onClick:o})]})}function en({openDownloadModal:t}){const{isSidekickAvailable:s}=Se();return e.jsx("span",{children:e.jsx(l.Item,{icon:lt,onClick:()=>{t(),p.logEvent("Account: Click Download App")},children:s?e.jsx(u,{id:"navigation.downloadMacApp",defaultMessage:"Download the macOS app"}):e.jsx(u,{id:"navigation.downloadWindowsApp",defaultMessage:"Download the Windows app"})})})}const tn=t=>{const s=ct(t),a=dt(s,Be.Search),n=ut();return a&&We()&&!n},sn=()=>e.jsx("span",{children:e.jsx(l.Item,{icon:mt,onClick:()=>{window.open(ht),p.logEventWithStatsig("ChatGPT Browser Extension: User Menu Clicked","chatgpt_browser_extension_user_menu_clicked")},children:e.jsx(u,{id:"E5VPz/",defaultMessage:"Get ChatGPT search extension"})})});function an({currentAccount:t}){const s=W(),a=t?.hasPaidSubscription(),n=t?.isPlus(),o=t?.isWorkspacePlan(),i=t?.data.subscriptionStatus.planType;if(a&&!n&&!o)return null;const r=()=>{H.logEvent("chatgpt_upgrade_in_settings_menu_clicked",null,{current_plan_type:i??"unknown"}),p.logEvent("Upgrade In Settings Menu Clicked",{planType:i??"unknown"}),xt(s,"Upper right settings menu")};return e.jsx(l.Item,{icon:Ys,onClick:r,children:e.jsx(u,{id:"navigation.upgradePlan",defaultMessage:"Upgrade Plan"})})}function nn(){const t=y(),[s]=gt(m=>[m.activeStageSidebar]),a=pt(),n=st(),o=ft(),{isUnauthenticated:i}=K(),r=Ct(aa,sa,!0,!0),{layer:d}=O("3737571708"),c=d.get("sidebar_type","slick");return i&&c==="slick"||!s&&!a||!n?null:e.jsx(B,{label:t.formatMessage({id:"cElEQV",defaultMessage:"Open sidebar"}),className:"flex",children:e.jsx(R,{"aria-label":t.formatMessage({id:"pV/Etp",defaultMessage:"Open sidebar"}),onClick:()=>{g.toggleNavCollapsed(!1,"button_click"),o&&g.setIsSidebarLocked(!0)},icon:r})})}function on(){const t=et(),s=na(),a=ia(Nt.signUpCta),{layer:n}=O("3637408529"),o=n.get("is_desktop_primary_auth_button_on_right",!1),i=()=>{t({authType:"login",callback:h=>{p.logLogInButtonClicked({location:"Chat header",provider:h})}})},r=()=>{t({authType:"signup",callback:h=>{p.logSignUpButtonClicked({location:"Chat header",provider:h})}})},d=e.jsx(L,{onClick:i,color:s?"primary":"secondary","data-testid":"login-button",className:j(!s&&"screen-arch:hidden md:screen-arch:flex"),children:e.jsx(u,{id:"B1SN7b",defaultMessage:"Log in"})},"login"),c=e.jsx(L,{color:s?"secondary":"primary",onClick:r,"data-testid":"signup-button",className:j(s&&"screen-arch:hidden md:screen-arch:flex"),children:e.jsx(u,{...a})},"signup"),m=s?[d,c]:[c,d];return e.jsx("div",{className:"flex items-center justify-center gap-2",children:o?m.reverse():m})}const Nt=ne({signUpCta:{id:"P6cySK",defaultMessage:"Sign up"},addTeammatesButton:{id:"inviteMemberButton.inviteMemberButton",defaultMessage:"Add Teammates"}});export{bn as C,nn as E,Aa as G,Xa as L,jn as N,Za as P,xn as a,bt as b,ca as c,Sn as d,hn as e,Qa as f,Ct as g,Me as h,vn as i,pn as j,gn as k,fn as u};
//# sourceMappingURL=e473oe6zkw5lqbph.js.map
