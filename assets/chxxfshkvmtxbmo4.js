import{bX as f,aL as l,cX as b,cH as g,fB as v}from"./haannt40upmuwmtk.js";import{f as h,r as m,e as M,j as e,M as c,d as P}from"./khl8ktun31iepecq.js";import{aa as y,fL as G,fT as T,r as C,fR as N}from"./n4exq6o15ap1g74l.js";import{C as w,a as L,b as z}from"./cmnfbk2gsf7cr678.js";import{G as E}from"./g3ftd152jisb55dd.js";import{E as S,P as _}from"./e473oe6zkw5lqbph.js";import"./m4g7yy9fehqi204r.js";import"./nxqi3o7k1bh9p9cn.js";import"./hyae97tnl7ms3bn9.js";import"./jjqeoesb3rhorlyg.js";import"./dfz2bdgqh4yduujb.js";import"./eiq9v0oy1lyfg3c8.js";import"./dlwdwnl197lh1mf5.js";import"./dblaaxd78ezocyc0.js";import"./b3mht1lg7zv7qd3d.js";const k=20,x=f.div`border-b-2 border-b-black pb-3 dark:border-b-white`,p=f.div`cursor-pointer border-b-2 border-b-transparent pb-3 text-token-text-secondary`;function A(){const n=l(),a=h(),t=n?.isWorkspaceAccount(),[s,r]=m.useState("mine");y({resetThreadAction:()=>{a("/")}});const o=M();if(n==null)return null;const d=e.jsx(c,{id:"1pqG1A",defaultMessage:"Created by me"}),i=e.jsx(c,{id:"2oQjZs",defaultMessage:"Shared with me"});return e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-12 pt-0",children:[e.jsx("h1",{className:"mb-8 text-xl font-semibold md:text-2xl",children:e.jsx(c,{id:"dgQTc/",defaultMessage:"My GPTs"})}),t&&(s==="mine"?e.jsxs("div",{className:"mb-4 flex flex-row space-x-4",children:[e.jsx(x,{children:d}),e.jsx(p,{onClick:()=>r("shared_with_me"),children:i})]}):e.jsxs("div",{className:"mb-4 flex flex-row space-x-4",children:[e.jsx(p,{onClick:()=>r("mine"),children:d}),e.jsx(x,{children:i})]})),s==="mine"&&e.jsx(w,{type:L.Enabled}),e.jsx(B,{emptyMessage:s==="shared_with_me"?o.formatMessage({id:"zG4NW2",defaultMessage:"No GPTs have been shared with you yet"}):void 0,cutId:s},s)]})})}function B({cutId:n,emptyMessage:a}){const[t,s]=m.useState(!0),{data:r,hasNextPage:o,fetchNextPage:d,isLoading:i}=G({cutId:n,limit:k,enabled:t});return i&&r==null?e.jsx("div",{className:"my-8 flex justify-center",children:e.jsx(b,{})}):!i&&r?.pages?.[0].list.items.length===0&&!o?e.jsx("span",{children:a}):e.jsxs("div",{children:[e.jsx("div",{children:r?.pages.flatMap(j=>j.list.items.map(({resource:u})=>e.jsx(z,{gizmoResource:u},u.gizmo.id)))}),!t||o||i?e.jsx(g,{color:"secondary",onClick:()=>{t?d():s(!0)},loading:i,fullWidth:!0,children:e.jsx(c,{...I.discoveryLoadMore})}):null]})}const I=P({discoveryLoadMore:{id:"gizmo.mygpts.loadMore",defaultMessage:"Load more"}});function R({children:n}){return l()==null?null:e.jsxs("div",{children:[n,e.jsx("div",{className:"fixed end-3 bottom-3",children:e.jsx(T,{})})]})}const ee=()=>(C(),null),se=v(function(){const a=l(),t=!!a?.hasPlusFeatures(),s=h();if(m.useEffect(()=>{a!=null&&!t&&s("/gpts")},[a,t,s]),!t)return null;const r=e.jsx(R,{children:e.jsx(A,{})});return e.jsx(E,{header:e.jsxs(N,{children:[e.jsx(S,{}),e.jsx("div",{className:"ms-auto",children:e.jsx(_,{})})]}),children:r})});export{ee as clientLoader,se as default};
//# sourceMappingURL=chxxfshkvmtxbmo4.js.map
