import{e as M,r as x,j as e}from"./khl8ktun31iepecq.js";import{cL as P,cM as g,cK as k,cN as j}from"./n4exq6o15ap1g74l.js";import{useVoiceModeClick as V}from"./njemo74xgxw2j7tc.js";import{useWhisperHandleClick as b}from"./jygu61j75ef097ne.js";import{C as v,h as C}from"./haannt40upmuwmtk.js";import{P as h,B as w,C as B}from"./opqccoi9jnqsmzvy.js";import"./lw7vucdyqf9uqozi.js";import"./l0u04bzc302go3qr.js";import"./gzmx7bftqjwaztkr.js";import"./o1bzkr20ape07jec.js";import"./bqem6ejvvuwllmce.js";import"./e66najub871r0jzn.js";import"./h54tsg40aj2pr0ev.js";import"./nvx78047lxv6p3fd.js";import"./jjqeoesb3rhorlyg.js";import"./dfz2bdgqh4yduujb.js";import"./b3mht1lg7zv7qd3d.js";import"./m4g7yy9fehqi204r.js";import"./d7qdtm0x38jq0qqt.js";import"./dblaaxd78ezocyc0.js";const T=({onDictationClick:r,onVoiceModeClick:n,onPointerEnter:s,onPointerLeave:a})=>{const{openPopover:t,closePopover:i}=P(),o=M();return e.jsxs("div",{className:"flex flex-col py-2",onPointerEnter:()=>s(t),onPointerLeave:()=>a(i),children:[e.jsx(g,{onClick:()=>{i(),r()},label:o.formatMessage({id:"TbQPoM",defaultMessage:"Dictate"}),icon:e.jsx(k,{"aria-label":o.formatMessage({id:"HfM1/B",defaultMessage:"Icon for menu item to select voice dictation"})})}),e.jsx(g,{onClick:()=>{i(),n()},label:o.formatMessage({id:"5myXsw",defaultMessage:"Voice Mode"}),icon:e.jsx(j,{"aria-label":o.formatMessage({id:"wXJZbs",defaultMessage:"Icon for menu item to select voice mode"})})})]})},y=({renderVoiceButton:r,onPointerEnter:n,onPointerLeave:s,...a})=>{const{openPopover:t,closePopover:i,popoverTriggerRef:o}=P(),m=x.useCallback(c=>{(c.key==="Enter"||c.key===" ")&&(c.preventDefault(),t())},[t]);return r({onPointerEnter:()=>n(t),onPointerLeave:()=>s(i),onKeyDown:m,ref:o,...a})},U=({layoutMode:r,onDictationExit:n,renderVoiceButton:s,restoreFocus:a})=>{const t=b(n),i=V(),o=()=>{v.setBooleanCookie(C.LastVoiceInteraction,!1),t()},m=()=>{v.setBooleanCookie(C.LastVoiceInteraction,!0),i()},c=M(),l=x.useRef(null),u=()=>{l.current&&(window.clearTimeout(l.current),l.current=null)},d=p=>{u(),l.current=window.setTimeout(()=>p(!1),300)},f=p=>{u(),l.current=window.setTimeout(()=>p(),100)};return e.jsxs(h,{layoutMode:r,restoreFocus:a,children:[e.jsx(w,{"aria-label":c.formatMessage({id:"o8zNIZ",defaultMessage:"Open voice menu"}),asChild:!0,children:e.jsx(y,{onPointerEnter:d,onPointerLeave:f,renderVoiceButton:s})}),e.jsx(B,{align:"end",sideOffset:2,children:e.jsx(T,{onDictationClick:o,onVoiceModeClick:m,onPointerEnter:d,onPointerLeave:f})})]})};export{U as CombinedVoiceButtonPopover};
//# sourceMappingURL=l8ex9crbns9y8698.js.map
