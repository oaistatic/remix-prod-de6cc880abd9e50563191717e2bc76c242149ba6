import{fB as g,P as l,dT as d,af as f,aH as P,m as y,d7 as x}from"./haannt40upmuwmtk.js";import{D as w,j as i,r as c}from"./khl8ktun31iepecq.js";import{m as s}from"./foftlufav6ncxtja.js";import{R as T}from"./cv6si9v270pdl3vk.js";import{C as m}from"./k6wwy9o7ger5jsj3.js";import{P as _,a as C}from"./i7mohl0pdm5438yu.js";import"./mh4bwze9qp65qu97.js";import"./iuzjvviw85b4ghdw.js";import"./n4exq6o15ap1g74l.js";import"./miy9m4xp0yschmng.js";import"./dblaaxd78ezocyc0.js";import"./opqccoi9jnqsmzvy.js";import"./jjqeoesb3rhorlyg.js";import"./dfz2bdgqh4yduujb.js";import"./b3mht1lg7zv7qd3d.js";import"./m4g7yy9fehqi204r.js";import"./d7qdtm0x38jq0qqt.js";import"./e473oe6zkw5lqbph.js";import"./iwbl4itf6ohkmahq.js";import"./ce74if69ckoer67u.js";import"./hvdwpbr2ljyv44tg.js";import"./fv3oi4p503zks5q9.js";import"./hyae97tnl7ms3bn9.js";import"./eiq9v0oy1lyfg3c8.js";import"./dlwdwnl197lh1mf5.js";import"./idv9bn2ktilvswkf.js";import"./brlfaqq2l0eg9ucx.js";import"./jn7l19yr8qucsihu.js";import"./l6prrb6nf9agh4ql.js";const it=g(function(){const r=w();return r.kind==="forbidden"?i.jsx(j,{chatPageProps:r.chatPageProps,reason:"workspace"}):i.jsx(b,{loaderData:r})});function b({loaderData:t}){c.useEffect(()=>{l.logEvent("Share Post: Shared Post Page Viewed",{post_id:t.postWithProfile.post.id,primary_attachment_type:t.postWithProfile.post.attachments?.[0]?.kind,referrer:t.referrer})},[t]);const r=c.useMemo(()=>{const e=d();return f.initThread(e,{kind:P.PrimaryAssistant}),e},[]);return t.postWithProfile.post.attachments?.[0]?.kind==="deep_research"&&t.postWithProfile.post.attachments[0].tags?.includes("deep_research")?i.jsx(T,{postWithProfile:t.postWithProfile,threadId:r}):i.jsx(W,{postWithProfile:t.postWithProfile,chatPageProps:t.chatPageProps})}function S(t,r){if(!t.attachments||t.attachments.length===0)return{url:s.src};const e=t.attachments[0];switch(e.kind){case"media_generation":{const o=e.encodings?.thumbnail?.path?{url:e.encodings.thumbnail.path}:void 0,n=e.encodings?.unfurl?.path?{url:e.encodings.unfurl.path,size:[1200,630]}:void 0,a={url:e.url,size:[e.width,e.height]};return r?o??n??a:n??o??a}default:return{url:s.src}}}function v(t){const r=t.text?.trim();if(r)return r;const e=t.attachments?.[0];return e?.kind==="media_generation"&&e.title?.trim()?e.title.trim():"Shared Content"}const at=({data:t})=>{const r=t,e={name:"robots",content:"noindex,nofollow"};if(!r||r.kind==="forbidden"){const p="Privately Shared Content";return[{title:`ChatGPT - ${p}`},e,{property:"og:site_name",content:"ChatGPT"},{property:"og:title",content:p},{property:"og:type",content:"website"},{property:"og:image",content:s.src},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:s.src},{name:"twitter:site",content:"@ChatGPTapp"},{name:"twitter:title",content:p}]}const{post:o}=r.postWithProfile,n=S(o,r.preferThumbnailUnfurl),a=v(o),h=o.permalink,u=new Date(o.posted_at*1e3).toISOString();return[{title:`ChatGPT - ${a}`},e,{property:"og:site_name",content:"ChatGPT"},{property:"og:type",content:"article"},{property:"og:url",content:h},{property:"og:title",content:a},{property:"og:locale",content:"en_US"},{property:"og:image",content:n.url},{property:"og:image:secure_url",content:n.url},...n.size?[{property:"og:image:width",content:n.size[0]},{property:"og:image:height",content:n.size[1]}]:[],{property:"og:image:alt",content:"Preview of shared ChatGPT content"},{property:"article:published_time",content:u},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:site",content:"@ChatGPTapp"},{name:"twitter:title",content:a},{name:"twitter:image",content:n.url},{name:"twitter:image:alt",content:"Preview of shared ChatGPT content"}]};function j({chatPageProps:t,reason:r}){const e=y();return c.useEffect(()=>{x(e,({closeModal:o})=>i.jsx(C,{closeModal:o,reason:r}))},[]),i.jsx(m,{...t})}function W({postWithProfile:t,chatPageProps:r}){return i.jsx(_.Provider,{value:{postWithProfile:t},children:i.jsx(m,{...r})})}export{it as default,at as meta};
//# sourceMappingURL=gs07ugayujmu9q81.js.map
